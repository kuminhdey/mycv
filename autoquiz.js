'use strict';const _0x4f79df=_0x2328;(function(_0x1dbd4d,_0x3d8e53){const _0xd9834e=_0x2328,_0x2f0c86=_0x1dbd4d();while(!![]){try{const _0x28b882=-parseInt(_0xd9834e(0x231))/0x1+parseInt(_0xd9834e(0x1cd))/0x2+-parseInt(_0xd9834e(0x1f4))/0x3*(-parseInt(_0xd9834e(0x23c))/0x4)+parseInt(_0xd9834e(0x22c))/0x5*(parseInt(_0xd9834e(0x24f))/0x6)+-parseInt(_0xd9834e(0x203))/0x7*(-parseInt(_0xd9834e(0x254))/0x8)+parseInt(_0xd9834e(0x218))/0x9*(-parseInt(_0xd9834e(0x214))/0xa)+-parseInt(_0xd9834e(0x251))/0xb*(parseInt(_0xd9834e(0x1f1))/0xc);if(_0x28b882===_0x3d8e53)break;else _0x2f0c86['push'](_0x2f0c86['shift']());}catch(_0x34a23f){_0x2f0c86['push'](_0x2f0c86['shift']());}}}(_0x465a,0xe1388));function _0x2328(_0xdae85d,_0x2993d2){const _0x465a16=_0x465a();return _0x2328=function(_0x23282f,_0x6f1458){_0x23282f=_0x23282f-0x1ae;let _0x1e2887=_0x465a16[_0x23282f];return _0x1e2887;},_0x2328(_0xdae85d,_0x2993d2);}const ACCESS={'TTL_MS':0xea60,'PRIVATE_KEY_PEM':'-----BEGIN\x20EC\x20PRIVATE\x20KEY-----\x0aMHcCAQEEIEgJFaFBqdftZlPV9i35xiaLDXNjQ9ty3RSPBtZzBCcfoAoGCCqGSM49\x0aAwEHoUQDQgAESrM8zwj/ZCRdoO7ilyhYIiv3npJB0ekBk3qhcphSojfc9sbUs5Px\x0aKBhMizvvmq81fqWJ7JeBGUn8o81y6DGuzQ==\x0a-----END\x20EC\x20PRIVATE\x20KEY-----'},_enc=new TextEncoder(),_dec=new TextDecoder();function _b64ToStr(_0x40a5db){const _0x248d86=_0x2328,_0x536567=atob(_0x40a5db),_0x1ace3f=new Uint8Array(_0x536567[_0x248d86(0x1ef)]);for(let _0x584f20=0x0;_0x584f20<_0x536567[_0x248d86(0x1ef)];_0x584f20++)_0x1ace3f[_0x584f20]=_0x536567[_0x248d86(0x1b7)](_0x584f20);return _dec['decode'](_0x1ace3f);}function _b64uToU8(_0x4b5819){const _0x56a500=_0x2328;_0x4b5819=_0x4b5819[_0x56a500(0x1b2)](/-/g,'+')[_0x56a500(0x1b2)](/_/g,'/');while(_0x4b5819['length']%0x4)_0x4b5819+='=';const _0x1a515c=atob(_0x4b5819);return Uint8Array[_0x56a500(0x1ff)]([..._0x1a515c][_0x56a500(0x212)](_0x5011e6=>_0x5011e6['charCodeAt'](0x0)));}function _strip(_0x48b7b5,_0x1009ce,_0x3438fd){const _0x7a85f4=_0x2328;return _0x48b7b5['replace'](_0x1009ce,'')[_0x7a85f4(0x1b2)](_0x3438fd,'')['replace'](/\s+/g,'');}function _pemBlockToU8(_0x556a34,_0x20329b,_0x1d132f){const _0x339aae=_0x2328,_0x5253ee=_strip(_0x556a34[_0x339aae(0x1e2)](),_0x20329b,_0x1d132f),_0x4c6d88=atob(_0x5253ee);return Uint8Array['from']([..._0x4c6d88]['map'](_0x5404d0=>_0x5404d0[_0x339aae(0x1b7)](0x0)));}function _encLen(_0x3a1b01){const _0x2ad234=_0x2328;if(_0x3a1b01<0x80)return Uint8Array[_0x2ad234(0x1ff)]([_0x3a1b01]);const _0x5bed72=[];while(_0x3a1b01>0x0){_0x5bed72[_0x2ad234(0x1b6)](_0x3a1b01&0xff),_0x3a1b01>>=0x8;}return Uint8Array[_0x2ad234(0x1ff)]([0x80|_0x5bed72['length'],..._0x5bed72]);}function _asn1(_0x122e68,_0x33d3e8){const _0x1db71d=_0x2328,_0x21835f=_encLen(_0x33d3e8[_0x1db71d(0x1ef)]),_0x40189a=new Uint8Array(0x1+_0x21835f[_0x1db71d(0x1ef)]+_0x33d3e8['length']);return _0x40189a[0x0]=_0x122e68,_0x40189a[_0x1db71d(0x209)](_0x21835f,0x1),_0x40189a[_0x1db71d(0x209)](_0x33d3e8,0x1+_0x21835f[_0x1db71d(0x1ef)]),_0x40189a;}const _seq=_0x1eda8d=>_asn1(0x30,_0x1eda8d),_oct=_0x3ef259=>_asn1(0x4,_0x3ef259);function _sec1ToPkcs8(_0x3aebe5){const _0x5f20fd=_0x2328,_0x1c6009=Uint8Array['from']([0x2,0x1,0x0]),_0x5c3853=(..._0x187454)=>Uint8Array[_0x5f20fd(0x1ff)]([0x6,_0x187454[_0x5f20fd(0x1ef)],..._0x187454]),_0x583276=_0x5c3853(0x2a,0x86,0x48,0xce,0x3d,0x2,0x1),_0x599919=_0x5c3853(0x2a,0x86,0x48,0xce,0x3d,0x3,0x1,0x7),_0x3c7c1b=_seq(new Uint8Array([..._0x583276,..._0x599919]));return _seq(new Uint8Array([..._0x1c6009,..._0x3c7c1b,..._oct(_0x3aebe5)]));}async function _importPrivateKeyEC(_0x3e4858){const _0x1a55bb=_0x2328;let _0x39196f,_0x3af79c='pkcs8';if(_0x3e4858[_0x1a55bb(0x20c)](_0x1a55bb(0x227))){const _0x59ff93=_pemBlockToU8(_0x3e4858,'-----BEGIN\x20EC\x20PRIVATE\x20KEY-----',_0x1a55bb(0x232));_0x39196f=_sec1ToPkcs8(_0x59ff93);}else{if(_0x3e4858[_0x1a55bb(0x20c)](_0x1a55bb(0x21e)))_0x39196f=_pemBlockToU8(_0x3e4858,'-----BEGIN\x20PRIVATE\x20KEY-----','-----END\x20PRIVATE\x20KEY-----');else throw new Error(_0x1a55bb(0x20a));}return crypto[_0x1a55bb(0x1ec)][_0x1a55bb(0x235)](_0x1a55bb(0x1dd),_0x39196f[_0x1a55bb(0x1f0)],{'name':_0x1a55bb(0x1d8),'namedCurve':_0x1a55bb(0x200)},![],[_0x1a55bb(0x1ba),'deriveBits']);}async function _decryptTokenB64ToTimestampMs(_0x164047){const _0x4e9205=_0x2328,_0x5cae98=_b64ToStr(String(_0x164047||'')),_0x31a6f3=JSON[_0x4e9205(0x1f5)](_0x5cae98);if(!_0x31a6f3||_0x31a6f3['v']!==0x1)throw new Error(_0x4e9205(0x1e6));const _0x4c149c=await _importPrivateKeyEC(ACCESS['PRIVATE_KEY_PEM']),_0x395aeb=await crypto[_0x4e9205(0x1ec)][_0x4e9205(0x235)]('raw',_b64uToU8(_0x31a6f3[_0x4e9205(0x1bc)]),{'name':_0x4e9205(0x1d8),'namedCurve':_0x4e9205(0x200)},![],[]),_0x3cfe6b=await crypto['subtle'][_0x4e9205(0x237)]({'name':_0x4e9205(0x1d8),'public':_0x395aeb},_0x4c149c,0x100),_0x4c3698=await crypto[_0x4e9205(0x1ec)][_0x4e9205(0x235)](_0x4e9205(0x233),_0x3cfe6b,_0x4e9205(0x236),![],['deriveKey']),_0x2fc348=await crypto[_0x4e9205(0x1ec)][_0x4e9205(0x1ba)]({'name':'HKDF','hash':_0x4e9205(0x215),'salt':_b64uToU8(_0x31a6f3['salt']),'info':_enc['encode'](_0x4e9205(0x217))},_0x4c3698,{'name':'AES-GCM','length':0x100},![],['decrypt']),_0x4f533d=await crypto[_0x4e9205(0x1ec)]['decrypt']({'name':_0x4e9205(0x1f8),'iv':_b64uToU8(_0x31a6f3['iv'])},_0x2fc348,_b64uToU8(_0x31a6f3['ct'])),_0xaa2fa5=new TextDecoder()[_0x4e9205(0x1fc)](new Uint8Array(_0x4f533d));if(!/^\d{10,}$/[_0x4e9205(0x21f)](_0xaa2fa5))throw new Error(_0x4e9205(0x1b8));return Number(_0xaa2fa5);}async function _ensureAccessGranted(){const _0x453413=_0x2328;let _0x56fa58=(window[_0x453413(0x243)]||'')['trim']();while(!![]){if(!_0x56fa58){_0x56fa58=prompt('Dán\x20Access\x20Token\x20(Base64\x20của\x20JSON\x20ECIES):','')||'',_0x56fa58=_0x56fa58[_0x453413(0x1e2)]();if(!_0x56fa58)throw new Error(_0x453413(0x1c3));}try{const _0x38d3b3=await _decryptTokenB64ToTimestampMs(_0x56fa58),_0x18d4be=Math['abs'](Date[_0x453413(0x1e5)]()-_0x38d3b3);if(_0x18d4be>ACCESS[_0x453413(0x249)])throw new Error('expired');return window[_0x453413(0x243)]=_0x56fa58,!![];}catch(_0x4ae9f1){console[_0x453413(0x1ce)](_0x453413(0x234),_0x4ae9f1?.[_0x453413(0x1de)]||_0x4ae9f1),window['__QUIZBOT_TOKEN_B64']='';const _0x405e72=prompt(_0x453413(0x220),'')||'';_0x56fa58=_0x405e72[_0x453413(0x1e2)]();if(!_0x56fa58)throw new Error('Access\x20bị\x20từ\x20chối\x20(token\x20rỗng).');}}}const CONFIG={'MODEL':_0x4f79df(0x247),'DELAY_AFTER_SELECT':0x258,'DELAY_BEFORE_NEXT':0x190,'LOAD_TIMEOUT_MS':0x3a98,'POLL_INTERVAL_MS':0xfa,'MAX_RETRIES':0x5,'BASE_BACKOFF_MS':0x4b0,'BACKOFF_FACTOR':0x2},STATE={'apiKey':'','selectors':{'question':_0x4f79df(0x24b),'optionLabels':_0x4f79df(0x1c0),'nextButtonFinder':_0x1bef73=>{const _0x2ab804=_0x4f79df,_0x4ec910=[..._0x1bef73[_0x2ab804(0x202)](_0x2ab804(0x238))][_0x2ab804(0x23d)](_0x2949c0=>(_0x2949c0[_0x2ab804(0x1d9)]('aria-label')||'')[_0x2ab804(0x21a)]()[_0x2ab804(0x20c)]('next'));if(_0x4ec910)return _0x4ec910;const _0x1ae958=[..._0x1bef73[_0x2ab804(0x202)](_0x2ab804(0x238))][_0x2ab804(0x23d)](_0x9f7378=>(_0x9f7378[_0x2ab804(0x1ca)]||'')[_0x2ab804(0x1e2)]()[_0x2ab804(0x21a)]()[_0x2ab804(0x216)](/\b(next|tiếp|câu tiếp|next question)\b/));return _0x1ae958||null;},'getRoot':()=>{const _0x5e1ec9=_0x4f79df,_0x4cd7f8=document[_0x5e1ec9(0x1ed)]('iframe[data-name=\x22iframe-lesson-player\x22]');return _0x4cd7f8?.[_0x5e1ec9(0x24a)]||_0x4cd7f8?.[_0x5e1ec9(0x1b1)]?.[_0x5e1ec9(0x24d)]||document;}}},_sleep=_0x36aa2c=>new Promise(_0x14c11d=>setTimeout(_0x14c11d,_0x36aa2c));async function _promptApiKey(){const _0x146498=_0x4f79df,_0xe038bd=_0x146498(0x1cb),_0x2411f9=prompt(_0xe038bd,window[_0x146498(0x250)]||'')||'',_0xc6a814=_0x2411f9[_0x146498(0x1e2)]();return _0xc6a814||null;}async function _geminiGenerateContentOnce({system:_0x26b934,user:_0x4aa17a,model:_0x38554d,temperature:_0x567abf}){const _0x44b050=_0x4f79df,_0x4e7974=_0x44b050(0x1b4)+encodeURIComponent(_0x38554d)+_0x44b050(0x210);let _0x5ce266=0x0,_0x1b8df5;while(_0x5ce266<=CONFIG[_0x44b050(0x22d)]){try{const _0x50b68b=await fetch(_0x4e7974+_0x44b050(0x21c)+encodeURIComponent(STATE[_0x44b050(0x1e7)]),{'method':_0x44b050(0x1b5),'headers':{'Content-Type':_0x44b050(0x1df)},'body':JSON[_0x44b050(0x221)]({'systemInstruction':_0x26b934?{'role':_0x44b050(0x20d),'parts':[{'text':_0x26b934}]}:undefined,'contents':[{'role':_0x44b050(0x240),'parts':[{'text':_0x4aa17a}]}],'generationConfig':{'temperature':_0x567abf}})});if(_0x50b68b[_0x44b050(0x20f)]===0x1ad||_0x50b68b['status']>=0x1f4&&_0x50b68b[_0x44b050(0x20f)]<0x258){const _0xe96e12=_0x50b68b['headers'][_0x44b050(0x205)](_0x44b050(0x1d5));let _0xee0c43=_0xe96e12?Number(_0xe96e12)*0x3e8:null;if(!_0xee0c43||Number[_0x44b050(0x207)](_0xee0c43)){const _0x3ac019=Math['floor'](Math[_0x44b050(0x208)]()*0x190);_0xee0c43=CONFIG[_0x44b050(0x1d3)]*Math[_0x44b050(0x1ea)](CONFIG[_0x44b050(0x1b3)],_0x5ce266)+_0x3ac019;}console[_0x44b050(0x1ce)](_0x44b050(0x1bf)+_0x50b68b[_0x44b050(0x20f)]+_0x44b050(0x1b9)+(_0x5ce266+0x1)+_0x44b050(0x219)+_0xee0c43+'ms'),await _sleep(_0xee0c43),_0x5ce266++;continue;}if(!_0x50b68b['ok']){const _0x29d8dd=await _0x50b68b[_0x44b050(0x223)]()['catch'](()=>'');throw new Error(_0x44b050(0x1bf)+_0x50b68b[_0x44b050(0x20f)]+'\x20'+_0x50b68b[_0x44b050(0x1c8)]+_0x44b050(0x204)+_0x29d8dd);}const _0x473df2=await _0x50b68b[_0x44b050(0x22a)](),_0xf6b37c=_0x473df2?.['candidates']?.[0x0]?.[_0x44b050(0x224)]?.[_0x44b050(0x244)]?.[_0x44b050(0x212)](_0x22285b=>_0x22285b[_0x44b050(0x223)])['join']('')?.[_0x44b050(0x1e2)]()||_0x473df2?.['candidates']?.[0x0]?.[_0x44b050(0x224)]?.['parts']?.[0x0]?.[_0x44b050(0x223)]?.[_0x44b050(0x1e2)]()||'';if(!_0xf6b37c)throw new Error(_0x44b050(0x1d6));return _0xf6b37c;}catch(_0x1baf6a){_0x1b8df5=_0x1baf6a;const _0x1bc220=Math['floor'](Math['random']()*0x190),_0x57a9f1=CONFIG[_0x44b050(0x1d3)]*Math[_0x44b050(0x1ea)](CONFIG[_0x44b050(0x1b3)],_0x5ce266)+_0x1bc220;console['warn'](_0x44b050(0x1bb)+(_0x5ce266+0x1)+'/'+(CONFIG['MAX_RETRIES']+0x1)+_0x44b050(0x1be)+(_0x1baf6a?.['message']||_0x1baf6a)+'.\x20Retry\x20in\x20'+_0x57a9f1+'ms'),await _sleep(_0x57a9f1),_0x5ce266++;}}throw _0x1b8df5||new Error(_0x44b050(0x248));}async function _geminiGenerateContent({system:_0x524df7,user:_0x3ba236,model:model=CONFIG[_0x4f79df(0x1e9)],temperature:temperature=0x0}){const _0x4cdb2b=_0x4f79df;!STATE['apiKey']&&(STATE['apiKey']=(window['__QUIZBOT_API_KEY']||'')[_0x4cdb2b(0x1e2)]());if(!STATE['apiKey']){const _0x132fd5=await _promptApiKey();if(!_0x132fd5)throw new Error('Không\x20có\x20API\x20key.');STATE[_0x4cdb2b(0x1e7)]=_0x132fd5,window[_0x4cdb2b(0x250)]=_0x132fd5;}try{return await _geminiGenerateContentOnce({'system':_0x524df7,'user':_0x3ba236,'model':model,'temperature':temperature});}catch(_0x1e2d6a){console[_0x4cdb2b(0x1ce)](_0x4cdb2b(0x21b),_0x1e2d6a?.[_0x4cdb2b(0x1de)]||_0x1e2d6a);const _0x18925c=await _promptApiKey();if(!_0x18925c)throw _0x1e2d6a;return STATE[_0x4cdb2b(0x1e7)]=_0x18925c,window[_0x4cdb2b(0x250)]=_0x18925c,await _geminiGenerateContentOnce({'system':_0x524df7,'user':_0x3ba236,'model':model,'temperature':temperature});}}function _getRoot(){const _0x3123c6=_0x4f79df;return STATE['selectors'][_0x3123c6(0x23f)]();}function _extractRadioOptions(_0x1a4153){const _0x40b582=_0x4f79df,_0x321e86=[..._0x1a4153[_0x40b582(0x202)](STATE['selectors']['optionLabels'])];if(!_0x321e86[_0x40b582(0x1ef)])return null;return _0x321e86[_0x40b582(0x212)](_0x572fc7=>{const _0x159d7b=_0x40b582,_0x29dbf6=_0x572fc7[_0x159d7b(0x22e)]('li'),_0x5c4c25=_0x29dbf6?.[_0x159d7b(0x1ed)]('input[type=\x22radio\x22]'),_0x52142c=(_0x572fc7[_0x159d7b(0x1bd)]||_0x29dbf6?.[_0x159d7b(0x1bd)]||'')[_0x159d7b(0x1e2)]();return{'li':_0x29dbf6,'radio':_0x5c4c25,'label':_0x572fc7,'text':_0x52142c};});}function _extractCheckboxOptions(_0x5b7a59){const _0x2a1e20=_0x4f79df,_0x556609=[..._0x5b7a59['querySelectorAll']('ul.list-block\x20li\x20input[type=\x22checkbox\x22]')];if(!_0x556609[_0x2a1e20(0x1ef)])return null;return _0x556609['map'](_0x571e4f=>{const _0x38090a=_0x2a1e20;let _0x256a46=_0x571e4f[_0x38090a(0x22e)](_0x38090a(0x206))?.['querySelector'](_0x38090a(0x201))?.[_0x38090a(0x1bd)]?.[_0x38090a(0x1e2)]()||_0x571e4f[_0x38090a(0x1d9)](_0x38090a(0x1f9))||_0x571e4f[_0x38090a(0x22e)]('li')?.['innerText']?.[_0x38090a(0x1e2)]()||'';return _0x256a46=_0x256a46[_0x38090a(0x1b2)](/^.*?:\s*/,'')['replace'](/\(see .*$/i,'')[_0x38090a(0x1e2)](),{'input':_0x571e4f,'text':_0x256a46};});}function _parseIndicesArray(_0x33d3a2,_0x28ccbd){const _0x550847=_0x4f79df;let _0x26fe53=[];try{const _0x5c5f50=JSON[_0x550847(0x1f5)](_0x33d3a2);if(Array['isArray'](_0x5c5f50))_0x26fe53=_0x5c5f50;else{if(Array[_0x550847(0x1af)](_0x5c5f50['indices']))_0x26fe53=_0x5c5f50[_0x550847(0x211)];else{if(typeof _0x5c5f50[_0x550847(0x22b)]==='number')_0x26fe53=[_0x5c5f50[_0x550847(0x22b)]];}}}catch(_0x12d063){const _0x1dccde=_0x33d3a2['match'](/"indices"\s*:\s*\[([^\]]*)\]/i);_0x1dccde&&_0x1dccde[0x1]?_0x26fe53=_0x1dccde[0x1][_0x550847(0x1e0)](/[, ]+/)[_0x550847(0x212)](_0x21220b=>Number(_0x21220b))['filter'](_0x77038c=>Number['isFinite'](_0x77038c)):_0x26fe53=(_0x33d3a2[_0x550847(0x216)](/\d+/g)||[])[_0x550847(0x212)](Number)['filter'](Number['isFinite']);}const _0x1362a4=new Set(),_0x5895ed=[];for(const _0x56d019 of _0x26fe53){const _0x444a2a=Math[_0x550847(0x23a)](_0x56d019);if(!Number[_0x550847(0x1dc)](_0x444a2a))continue;if(_0x444a2a<0x0||_0x444a2a>=_0x28ccbd)continue;!_0x1362a4[_0x550847(0x23e)](_0x444a2a)&&(_0x1362a4['add'](_0x444a2a),_0x5895ed['push'](_0x444a2a));}return _0x5895ed;}async function _answerOne(_0x232397=_getRoot()){const _0x3c698c=_0x4f79df,_0x353619=_0x232397[_0x3c698c(0x1ed)](STATE['selectors'][_0x3c698c(0x1e4)]),_0x14f97b=(_0x353619?.[_0x3c698c(0x1bd)]||'')[_0x3c698c(0x1e2)](),_0x4e97e9=_extractCheckboxOptions(_0x232397);if(_0x4e97e9?.['length']){const _0x2fbbc9=_0x4e97e9[_0x3c698c(0x212)](_0x5bb815=>_0x5bb815[_0x3c698c(0x223)]),_0xa91117=_0x3c698c(0x23b)+'Chỉ\x20được\x20trả\x20về\x20JSON:\x20{\x22indices\x22:[<0-based\x20ints>],\x20\x22reason\x22:\x22<ngắn\x20gọn>\x22}\x20—\x20không\x20thêm\x20chữ\x20nào\x20khác.',_0x5e8897=['Câu\x20hỏi:\x20'+_0x14f97b,_0x3c698c(0x1c9),..._0x2fbbc9[_0x3c698c(0x212)]((_0x48d2ba,_0x4879c5)=>'\x20\x20'+_0x4879c5+'.\x20'+_0x48d2ba),'Yêu\x20cầu:\x20Chỉ\x20trả\x20về\x20JSON\x20{\x22indices\x22:[...],\x20\x22reason\x22:\x22...\x22}\x20(0-based).']['join']('\x0a'),_0x54f911=await _geminiGenerateContent({'system':_0xa91117,'user':_0x5e8897,'temperature':0x0}),_0x29bc59=_parseIndicesArray(_0x54f911,_0x2fbbc9['length']);if(!_0x29bc59[_0x3c698c(0x1ef)])throw new Error(_0x3c698c(0x226));for(const _0x2609a9 of _0x29bc59){const _0x470561=_0x4e97e9[_0x2609a9];if(!_0x470561?.[_0x3c698c(0x1e1)])continue;!_0x470561[_0x3c698c(0x1e1)][_0x3c698c(0x1c2)]&&(_0x470561[_0x3c698c(0x1e1)][_0x3c698c(0x229)](),_0x470561[_0x3c698c(0x1e1)][_0x3c698c(0x24c)](new Event(_0x3c698c(0x228),{'bubbles':!![]})),_0x470561[_0x3c698c(0x1e1)]['dispatchEvent'](new Event(_0x3c698c(0x1e1),{'bubbles':!![]}))),await _sleep(0x3c);}console[_0x3c698c(0x21d)](_0x3c698c(0x1fa),_0x3c698c(0x252),_0x29bc59,_0x29bc59[_0x3c698c(0x212)](_0x25bb1c=>_0x2fbbc9[_0x25bb1c]));let _0x20515f='';try{_0x20515f=JSON[_0x3c698c(0x1f5)](_0x54f911)?.['reason']||'';}catch{}return{'type':_0x3c698c(0x1ae),'question':_0x14f97b,'options':_0x2fbbc9,'indices':_0x29bc59,'reason':_0x20515f};}const _0x55e4e0=_extractRadioOptions(_0x232397);if(!_0x55e4e0?.[_0x3c698c(0x1ef)])throw new Error('Không\x20tìm\x20thấy\x20lựa\x20chọn\x20(checkbox/radio).');const _0x4a2eee=_0x55e4e0[_0x3c698c(0x212)](_0x42f7ba=>_0x42f7ba[_0x3c698c(0x223)]),_0x861d85='Bạn\x20là\x20trợ\x20lý\x20làm\x20trắc\x20nghiệm.\x20Chỉ\x20chọn\x201\x20đáp\x20án\x20đúng\x20nhất.\x20'+_0x3c698c(0x241),_0x86df50=[_0x3c698c(0x1eb)+_0x14f97b,_0x3c698c(0x1c9),..._0x4a2eee['map']((_0x194928,_0x5d4dad)=>'\x20\x20'+_0x5d4dad+'.\x20'+_0x194928),'Yêu\x20cầu:\x20Chỉ\x20trả\x20về\x20JSON\x20đúng\x20chuẩn:\x20{\x22index\x22:\x20<int>,\x20\x22reason\x22:\x20\x22<ngắn\x20gọn>\x22}.'][_0x3c698c(0x1d1)]('\x0a'),_0x2376ed=await _geminiGenerateContent({'system':_0x861d85,'user':_0x86df50,'temperature':0x0});let _0x5e3042=-0x1,_0x56f083='';try{const _0x57bd30=JSON[_0x3c698c(0x1f5)](_0x2376ed);_0x5e3042=Number(_0x57bd30[_0x3c698c(0x22b)]),_0x56f083=String(_0x57bd30['reason']||'');}catch{const _0x2d843b=_0x2376ed[_0x3c698c(0x216)](/"index"\s*:\s*(\d+)/)||_0x2376ed[_0x3c698c(0x216)](/\b(\d+)\b/);if(_0x2d843b)_0x5e3042=Number(_0x2d843b[0x1]);}if(!Number['isInteger'](_0x5e3042)||_0x5e3042<0x0||_0x5e3042>=_0x4a2eee[_0x3c698c(0x1ef)])throw new Error(_0x3c698c(0x1f6));const _0x4170ec=_0x55e4e0[_0x5e3042];if(_0x4170ec?.[_0x3c698c(0x1fe)])_0x4170ec['label'][_0x3c698c(0x229)]();else{if(_0x4170ec?.[_0x3c698c(0x1db)])_0x4170ec[_0x3c698c(0x1db)][_0x3c698c(0x1c2)]=!![],_0x4170ec[_0x3c698c(0x1db)][_0x3c698c(0x24c)](new Event('change',{'bubbles':!![]})),_0x4170ec['radio'][_0x3c698c(0x24c)](new Event(_0x3c698c(0x1e1),{'bubbles':!![]})),_0x4170ec['radio'][_0x3c698c(0x229)]();else _0x4170ec?.['li']&&_0x4170ec['li'][_0x3c698c(0x229)]();}console[_0x3c698c(0x21d)](_0x3c698c(0x1cf),'color:#16a34a;font-weight:700',_0x5e3042,_0x4a2eee[_0x5e3042]);if(_0x56f083)console['log'](_0x3c698c(0x22f),_0x56f083);return{'type':'single','question':_0x14f97b,'options':_0x4a2eee,'index':_0x5e3042,'reason':_0x56f083};}async function _clickNext(_0x5678f1=_getRoot()){const _0x69513a=_0x4f79df;await _sleep(CONFIG[_0x69513a(0x20e)]);const _0x309def=STATE[_0x69513a(0x1ee)][_0x69513a(0x239)](_0x5678f1);if(!_0x309def)return console[_0x69513a(0x1ce)](_0x69513a(0x1c5)),![];return await _sleep(CONFIG[_0x69513a(0x1f7)]),_0x309def['click'](),console['log'](_0x69513a(0x253),_0x69513a(0x1c1)),!![];}async function _waitForNextQuestion(_0x14e5cd,_0x486843=_getRoot()){const _0x3e9436=_0x4f79df,_0x515b8d=Date[_0x3e9436(0x1e5)]();while(Date[_0x3e9436(0x1e5)]()-_0x515b8d<CONFIG[_0x3e9436(0x230)]){await _sleep(CONFIG['POLL_INTERVAL_MS']);const _0x252acd=_0x486843['querySelector'](STATE[_0x3e9436(0x1ee)][_0x3e9436(0x1e4)]),_0x4f0c3b=_0x252acd?.['innerText']?.['trim']();if(_0x4f0c3b&&_0x4f0c3b!==_0x14e5cd)return await _sleep(0x96),_0x4f0c3b;}throw new Error(_0x3e9436(0x1f3));}const DONATE_IMG_B64=_0x4f79df(0x1f2);function printConsoleImageFromBase64(_0x4f32de,{width:width=0x100,height:height=0x100,title:title=_0x4f79df(0x1d2)}={}){const _0x327587=_0x4f79df;try{const _0x5aa7c4=[_0x327587(0x1d0),_0x327587(0x24e)+Math['floor'](height/0x2)+_0x327587(0x1c6)+Math[_0x327587(0x225)](width/0x2)+'px',_0x327587(0x213)+_0x4f32de+_0x327587(0x20b),'background-size:'+width+_0x327587(0x1c6)+height+'px',_0x327587(0x246),_0x327587(0x1cc),_0x327587(0x255)][_0x327587(0x1d1)](';');console[_0x327587(0x21d)]('%c\x20',_0x5aa7c4);}catch{console[_0x327587(0x21d)]('Donate\x20image\x20(data\x20URL):',_0x327587(0x1c4)+_0x4f32de);}if(title)console['log']('%c'+title,_0x327587(0x1c7));}export async function runQuiz(_0x68fef5={}){const _0xd68b72=_0x4f79df,{apiKey:_0xed922c,maxQuestions:maxQuestions=Infinity}=_0x68fef5;await _ensureAccessGranted();if(_0xed922c)STATE[_0xd68b72(0x1e7)]=String(_0xed922c)[_0xd68b72(0x1e2)](),window[_0xd68b72(0x250)]=STATE[_0xd68b72(0x1e7)];else{if(!STATE[_0xd68b72(0x1e7)]){STATE[_0xd68b72(0x1e7)]=(window[_0xd68b72(0x250)]||'')['trim']();if(!STATE[_0xd68b72(0x1e7)]){const _0x292823=await _promptApiKey();if(!_0x292823)throw new Error(_0xd68b72(0x222));STATE['apiKey']=_0x292823,window['__QUIZBOT_API_KEY']=_0x292823;}}}let _0x541221=0x0;const _0x2f9809=[];while(_0x541221<maxQuestions){const _0x410da9=_getRoot(),_0x443391=_0x410da9[_0xd68b72(0x1ed)](STATE[_0xd68b72(0x1ee)]['question']),_0xc8528d=_0x443391?.[_0xd68b72(0x1bd)]?.[_0xd68b72(0x1e2)]()??'',_0x9b6535=await _answerOne(_0x410da9);_0x2f9809[_0xd68b72(0x1e3)](_0x9b6535);const _0x31d1ac=await _clickNext(_0x410da9);if(!_0x31d1ac){console['log'](_0xd68b72(0x1da),_0xd68b72(0x245));break;}try{await _waitForNextQuestion(_0xc8528d,_0x410da9),console['log'](_0xd68b72(0x1d7),_0xd68b72(0x1b0));}catch(_0x1ab59b){console[_0xd68b72(0x1ce)](_0xd68b72(0x1fb),_0x1ab59b?.[_0xd68b72(0x1de)]||_0x1ab59b);break;}_0x541221++;}return console['log']('%c🏁\x20Hoàn\x20tất\x20vòng\x20lặp.','color:#9333ea;font-weight:700'),printConsoleImageFromBase64(DONATE_IMG_B64,{'width':0x100,'height':0x100,'title':_0xd68b72(0x1e8)}),_0x2f9809;}export function setApiKey(_0x570ef){const _0x45b65e=_0x4f79df;STATE[_0x45b65e(0x1e7)]=String(_0x570ef||'')['trim'](),window[_0x45b65e(0x250)]=STATE[_0x45b65e(0x1e7)];}export function setTTL(_0x58ff98){const _0x3f93dc=_0x4f79df;ACCESS[_0x3f93dc(0x249)]=Math['max'](0x0,Number(_0x58ff98)||0x0);}export function setSelectors(_0x497272){const _0x1072a9=_0x4f79df;Object[_0x1072a9(0x1fd)](STATE[_0x1072a9(0x1ee)],_0x497272||{});}export async function debugDecryptAccessTokenB64(_0x5f4cd7){return _decryptTokenB64ToTimestampMs(_0x5f4cd7);}typeof window!==_0x4f79df(0x242)&&(window[_0x4f79df(0x1d4)]={'runQuiz':runQuiz,'setApiKey':setApiKey,'setTTL':setTTL,'setSelectors':setSelectors,'debugDecryptAccessTokenB64':debugDecryptAccessTokenB64});function _0x465a(){const _0x598423=['warn','%c✔\x20Radio:','font-size:1px','join','🙏\x20If\x20this\x20helped,\x20consider\x20a\x20coffee!','BASE_BACKOFF_MS','QuizBot','retry-after','Gemini\x20trả\x20về\x20rỗng','%c⏭\x20Câu\x20hỏi\x20mới\x20đã\x20tải','ECDH','getAttribute','%c⏹\x20Dừng:\x20không\x20có\x20nút\x20Next.','radio','isInteger','pkcs8','message','application/json','split','input','trim','push','question','now','Token\x20không\x20hợp\x20lệ','apiKey','🙏\x20Nếu\x20hữu\x20ích,\x20mời\x20mình\x20ly\x20cà\x20phê\x20nhé!','MODEL','pow','Câu\x20hỏi:\x20','subtle','querySelector','selectors','length','buffer','9948132WMindc','iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAANHUlEQVR4A...','Hết\x20thời\x20gian\x20chờ\x20câu\x20hỏi\x20mới','291048VjxmAb','parse','Model\x20trả\x20về\x20index\x20không\x20hợp\x20lệ\x20(radio)','DELAY_BEFORE_NEXT','AES-GCM','aria-label','%c✔\x20Checkbox:','⚠\x20Có\x20thể\x20là\x20câu\x20cuối.','decode','assign','label','from','P-256','span','querySelectorAll','56819NMeyej','\x20—\x20','get','div.custom-test-case-checkbox','isNaN','random','set','Private\x20key\x20PEM\x20không\x20hợp\x20lệ\x20(cần\x20EC\x20PRIVATE\x20KEY\x20hoặc\x20PRIVATE\x20KEY).',')\x20no-repeat','includes','system','DELAY_AFTER_SELECT','status',':generateContent','indices','map','background:url(data:image/png;base64,','10dLRSnz','SHA-256','match','ecies-p256-timestamp','1464237mXbNZU','\x20in\x20','toLowerCase','[Gemini]\x20thất\x20bại\x20sau\x20max\x20retries.\x20Thử\x20nhập\x20API\x20key\x20mới...','?key=','log','BEGIN\x20PRIVATE\x20KEY','test','Access\x20Token\x20không\x20hợp\x20lệ\x20hoặc\x20đã\x20hết\x20hạn.\x0aVui\x20lòng\x20dán\x20token\x20mới\x20(hoặc\x20Cancel\x20để\x20dừng):','stringify','Không\x20có\x20API\x20key\x20→\x20dừng.','text','content','floor','Model\x20không\x20trả\x20về\x20indices\x20hợp\x20lệ\x20cho\x20checkbox','BEGIN\x20EC\x20PRIVATE\x20KEY','change','click','json','index','5NSexSg','MAX_RETRIES','closest','Lý\x20do:','LOAD_TIMEOUT_MS','34130TUybkD','-----END\x20EC\x20PRIVATE\x20KEY-----','raw','[access]\x20token\x20invalid/expired\x20→\x20yêu\x20cầu\x20nhập\x20lại:','importKey','HKDF','deriveBits','button','nextButtonFinder','trunc','Bạn\x20là\x20trợ\x20lý\x20làm\x20trắc\x20nghiệm.\x20CÓ\x20THỂ\x20có\x20NHIỀU\x20đáp\x20án\x20đúng.\x20','4aBymDV','find','has','getRoot','user','Chỉ\x20được\x20trả\x20về\x20JSON:\x20{\x22index\x22:\x20<0-based\x20int>,\x20\x22reason\x22:\x20\x22<ngắn\x20gọn>\x22}\x20—\x20không\x20kèm\x20chữ\x20nào\x20khác.','undefined','__QUIZBOT_TOKEN_B64','parts','color:#f97316;font-weight:700','line-height:0','gemini-2.0-flash','Gemini\x20request\x20failed\x20after\x20retries','TTL_MS','contentDocument','p.para-big.disable-select,\x20p.para-big,\x20.para-big.disable-select','dispatchEvent','document','padding:','4159578iWXJDv','__QUIZBOT_API_KEY','11UkwvLh','color:#16a34a;font-weight:700','%c➡️\x20\x20Next','744MIxkdF','border-radius:8px','multi','isArray','color:#10b981;font-weight:700','contentWindow','replace','BACKOFF_FACTOR','https://generativelanguage.googleapis.com/v1beta/models/','POST','unshift','charCodeAt','Timestamp\x20không\x20hợp\x20lệ','.\x20Retry\x20#','deriveKey','Gemini\x20request\x20failed\x20(attempt\x20','epk','innerText','):\x20','Gemini\x20','ul.list-block\x20li\x20label','color:#2563eb;font-weight:700','checked','Thiếu\x20Access\x20Token','data:image/png;base64,','Không\x20tìm\x20thấy\x20nút\x20Next.','px\x20','color:#16a34a;font-weight:700;font-size:14px','statusText','Các\x20lựa\x20chọn\x20(0-based):','textContent','Nhập\x20GEMINI\x20API\x20key\x20(tạo\x20tại\x20https://aistudio.google.com/app/apikey):','margin:8px\x200','806356VqMTSP'];_0x465a=function(){return _0x598423;};return _0x465a();}
