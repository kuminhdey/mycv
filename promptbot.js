'use strict';const _0x474367=_0x1a5c;(function(_0x3855f6,_0x53995a){const _0x1bcadf=_0x1a5c,_0x2b1581=_0x3855f6();while(!![]){try{const _0x26bd79=-parseInt(_0x1bcadf(0x1b2))/0x1+parseInt(_0x1bcadf(0x1a5))/0x2*(parseInt(_0x1bcadf(0x1aa))/0x3)+parseInt(_0x1bcadf(0x1c5))/0x4+-parseInt(_0x1bcadf(0x1b0))/0x5+-parseInt(_0x1bcadf(0x193))/0x6*(-parseInt(_0x1bcadf(0x194))/0x7)+-parseInt(_0x1bcadf(0x1ec))/0x8+-parseInt(_0x1bcadf(0x172))/0x9*(parseInt(_0x1bcadf(0x1d6))/0xa);if(_0x26bd79===_0x53995a)break;else _0x2b1581['push'](_0x2b1581['shift']());}catch(_0x792279){_0x2b1581['push'](_0x2b1581['shift']());}}}(_0x530c,0x9d529));const ACCESS={'TTL_MS':0xea60,'PRIVATE_KEY_PEM':_0x474367(0x17a)},_enc=new TextEncoder(),_dec=new TextDecoder();function _b64ToStr(_0x437d25){const _0x348a64=_0x474367,_0xe9d303=atob(_0x437d25),_0x280229=new Uint8Array(_0xe9d303[_0x348a64(0x1b4)]);for(let _0x3ea9de=0x0;_0x3ea9de<_0xe9d303[_0x348a64(0x1b4)];_0x3ea9de++)_0x280229[_0x3ea9de]=_0xe9d303[_0x348a64(0x1cf)](_0x3ea9de);return _dec['decode'](_0x280229);}function _b64uToU8(_0x4c627d){const _0x418251=_0x474367;_0x4c627d=_0x4c627d[_0x418251(0x16d)](/-/g,'+')[_0x418251(0x16d)](/_/g,'/');while(_0x4c627d[_0x418251(0x1b4)]%0x4)_0x4c627d+='=';const _0x5ebabd=atob(_0x4c627d);return Uint8Array['from']([..._0x5ebabd][_0x418251(0x174)](_0x5528ea=>_0x5528ea['charCodeAt'](0x0)));}function _strip(_0xb7b7f7,_0x5a013c,_0x87c0da){const _0x35d7f1=_0x474367;return _0xb7b7f7['replace'](_0x5a013c,'')[_0x35d7f1(0x16d)](_0x87c0da,'')[_0x35d7f1(0x16d)](/\s+/g,'');}function _pemBlockToU8(_0x53c705,_0x2651a6,_0x5c9059){const _0x76f43b=_0x474367,_0x3dd21a=_strip(_0x53c705['trim'](),_0x2651a6,_0x5c9059),_0x1abc56=atob(_0x3dd21a);return Uint8Array['from']([..._0x1abc56]['map'](_0x52718f=>_0x52718f[_0x76f43b(0x1cf)](0x0)));}function _encLen(_0x499152){const _0x1d6489=_0x474367;if(_0x499152<0x80)return Uint8Array[_0x1d6489(0x1b6)]([_0x499152]);const _0x57fd20=[];while(_0x499152>0x0){_0x57fd20['unshift'](_0x499152&0xff),_0x499152>>=0x8;}return Uint8Array[_0x1d6489(0x1b6)]([0x80|_0x57fd20[_0x1d6489(0x1b4)],..._0x57fd20]);}function _asn1(_0xf4dd5f,_0x4fcbf1){const _0x4868fd=_0x474367,_0x4db586=_encLen(_0x4fcbf1[_0x4868fd(0x1b4)]),_0x2c46d2=new Uint8Array(0x1+_0x4db586['length']+_0x4fcbf1[_0x4868fd(0x1b4)]);return _0x2c46d2[0x0]=_0xf4dd5f,_0x2c46d2[_0x4868fd(0x197)](_0x4db586,0x1),_0x2c46d2['set'](_0x4fcbf1,0x1+_0x4db586[_0x4868fd(0x1b4)]),_0x2c46d2;}const _seq=_0x32fd8c=>_asn1(0x30,_0x32fd8c),_oct=_0x470127=>_asn1(0x4,_0x470127);function _sec1ToPkcs8(_0x5f1ef0){const _0x2c6cbb=_0x474367,_0x6ccfea=Uint8Array[_0x2c6cbb(0x1b6)]([0x2,0x1,0x0]),_0x11c16f=(..._0x53ec9d)=>Uint8Array[_0x2c6cbb(0x1b6)]([0x6,_0x53ec9d[_0x2c6cbb(0x1b4)],..._0x53ec9d]),_0x33fcb8=_0x11c16f(0x2a,0x86,0x48,0xce,0x3d,0x2,0x1),_0x40e2f1=_0x11c16f(0x2a,0x86,0x48,0xce,0x3d,0x3,0x1,0x7),_0x5a45cb=_seq(new Uint8Array([..._0x33fcb8,..._0x40e2f1]));return _seq(new Uint8Array([..._0x6ccfea,..._0x5a45cb,..._oct(_0x5f1ef0)]));}function _0x530c(){const _0x1d9d57=['log','includes','warn','SHA-256','textarea#jodit-editor','%c[OK]\x20PROMPT\x20đã\x20copy\x20vào\x20clipboard.','BASE_BACKOFF_MS','random','Private\x20key\x20PEM\x20không\x20hợp\x20lệ\x20(cần\x20EC\x20PRIVATE\x20KEY\x20hoặc\x20PRIVATE\x20KEY).','subtle','12LnkMKm','3196487EyQxRz','contentDocument','assign','set','floor','Yêu\x20cầu\x20PROMPT\x20phải\x20rõ\x20ràng,\x20có\x20mục\x20tiêu,\x20ràng\x20buộc,\x20tiêu\x20chí\x20chấp\x20nhận\x20và\x20định\x20dạng\x20đầu\x20ra.\x20Không\x20viết\x20lời\x20giải\x20thích.','innerText','contentWindow','stringify','ecies-p256-timestamp','decrypt','content','%c[OK]\x20PROMPT\x20(copy\x20thủ\x20công\x20bên\x20dưới):','.jodit-wysiwyg[contenteditable=\x22true\x22]','NHIỆM\x20VỤ:\x20\x22','%c\x20','P-256','18dayVaR','Gemini\x20trả\x20về\x20rỗng','raw','join','Donate\x20image\x20(data\x20URL):','403389abhPME','-\x20Nếu\x20có\x20nhiều\x20phần,\x20đặt\x20tiêu\x20đề\x20cấp\x202/3\x20tương\x20ứng.','writeText','parse','__PROMPTBOT_API_KEY','font-size:1px','1748090DyFyno','candidates','326055bhPhfz','Xuất\x20duy\x20nhất\x20nội\x20dung\x20PROMPT.','length','dispatchEvent','from','textContent','application/json','RÀNG\x20BUỘC\x20&\x20CHẤP\x20NHẬN:','deriveBits','%c[OK]\x20PROMPT\x20đã\x20điền\x20vào\x20Jodit.','BEGIN\x20PRIVATE\x20KEY','YÊU\x20CẦU\x20CHUNG:','.jodit-container','[Gemini]\x20thất\x20bại\x20sau\x20max\x20retries.\x20Thử\x20nhập\x20API\x20key\x20mới...','undefined','-\x20Nếu\x20có\x20giả\x20định,\x20hãy\x20nêu\x20ngắn\x20gọn\x20và\x20hợp\x20lý.','px\x20','salt','Access\x20bị\x20từ\x20chối\x20(token\x20rỗng).','1854276rKSNkt','abs','message','PRIVATE_KEY_PEM','__PROMPTBOT_TOKEN_B64','question','-\x20Nếu\x20đầu\x20ra\x20là\x20mã/JSON,\x20đảm\x20bảo\x20cú\x20pháp\x20hợp\x20lệ.','pow','Nhiệm\x20vụ:\x20Viết\x20một\x20PROMPT\x20chất\x20lượng\x20cao\x20để\x20yêu\x20cầu\x20một\x20AI\x20HOÀN\x20THÀNH\x20đúng\x20nhiệm\x20vụ\x20sau.','-\x20Viết\x20kết\x20quả\x20cuối\x20cùng\x20trực\x20tiếp,\x20không\x20kèm\x20chú\x20thích\x20về\x20cách\x20bạn\x20suy\x20nghĩ.','charCodeAt','headers','MODEL','Không\x20có\x20API\x20key.','TTL_MS','text','retry-after','9590gubOjm','-----BEGIN\x20EC\x20PRIVATE\x20KEY-----',')\x20no-repeat','color:#16a34a;font-weight:700','gemini-2.0-flash','Gemini\x20request\x20failed\x20after\x20retries','parentElement','catch','PromptBot','Gemini\x20request\x20failed\x20(attempt\x20','querySelector','input','importKey','now','isNaN','Gemini\x20','HKDF','selectors','pkcs8','?key=','\x20in\x20','decode','9928472VChSNu','apiKey','Câu\x20hỏi/đề\x20bài\x20gốc:\x20\x22','https://generativelanguage.googleapis.com/v1beta/models/','border-radius:8px','deriveKey','Access\x20Token\x20không\x20hợp\x20lệ\x20hoặc\x20đã\x20hết\x20hạn.\x0aVui\x20lòng\x20dán\x20token\x20mới\x20(hoặc\x20Cancel\x20để\x20dừng):','Thiếu\x20câu\x20hỏi/đề\x20bài.','BACKOFF_FACTOR','BẮT\x20ĐẦU\x20THỰC\x20HIỆN.','BEGIN\x20EC\x20PRIVATE\x20KEY','.\x20Retry\x20#','replace','trim','test','AES-GCM','document','243vuaSfQ','-\x20Tôn\x20trọng\x20các\x20tiêu\x20chí\x20về\x20chính\x20xác,\x20đầy\x20đủ,\x20nhất\x20quán,\x20có\x20thể\x20kiểm\x20chứng.','map','expired','MAX_RETRIES','clipboard','padding:',':generateContent','-----BEGIN\x20EC\x20PRIVATE\x20KEY-----\x0aMHcCAQEEIEgJFaFBqdftZlPV9i35xiaLDXNjQ9ty3RSPBtZzBCcfoAoGCCqGSM49\x0aAwEHoUQDQgAESrM8zwj/ZCRdoO7ilyhYIiv3npJB0ekBk3qhcphSojfc9sbUs5Px\x0aKBhMizvvmq81fqWJ7JeBGUn8o81y6DGuzQ==\x0a-----END\x20EC\x20PRIVATE\x20KEY-----','Bạn\x20là\x20senior\x20prompt\x20engineer.\x20Trả\x20về\x20CHỈ\x20NỘI\x20DUNG\x20PROMPT\x20cuối\x20cùng\x20(plain\x20text),\x20không\x20kèm\x20giải\x20thích.','-\x20Nếu\x20nhiệm\x20vụ\x20tạo\x20nội\x20dung/tài\x20liệu/mã,\x20hãy\x20đảm\x20bảo\x20đầy\x20đủ\x20phần\x20bắt\x20buộc,\x20có\x20kiểm\x20tra\x20lỗi/cạnh\x20biên\x20khi\x20phù\x20hợp.','ĐỊNH\x20DẠNG\x20ĐẦU\x20RA:','Bạn\x20là\x20một\x20hệ\x20thống\x20AI\x20chuyên\x20gia.\x20Hãy\x20HOÀN\x20THÀNH\x20NHIỆM\x20VỤ\x20sau\x20một\x20cách\x20tối\x20ưu,\x20chính\x20xác\x20và\x20có\x20cấu\x20trúc\x20rõ\x20ràng:','change','Không\x20tìm\x20thấy\x20câu\x20hỏi\x20trên\x20trang.\x20Dán\x20câu\x20hỏi/đề\x20bài\x20bạn\x20muốn\x20tạo\x20PROMPT:','json','POST','ECDH','[access]\x20token\x20invalid/expired\x20→\x20nhập\x20lại:','\x20—\x20','status','parts','Nhập\x20GEMINI\x20API\x20key\x20(tạo\x20tại\x20https://aistudio.google.com/app/apikey):'];_0x530c=function(){return _0x1d9d57;};return _0x530c();}async function _importPrivateKeyEC(_0x34be33){const _0x5a4393=_0x474367;let _0x2e4c38;if(_0x34be33['includes'](_0x5a4393(0x16b))){const _0x1bc533=_pemBlockToU8(_0x34be33,_0x5a4393(0x1d7),'-----END\x20EC\x20PRIVATE\x20KEY-----');_0x2e4c38=_sec1ToPkcs8(_0x1bc533);}else{if(_0x34be33[_0x5a4393(0x18a)](_0x5a4393(0x1bc)))_0x2e4c38=_pemBlockToU8(_0x34be33,'-----BEGIN\x20PRIVATE\x20KEY-----','-----END\x20PRIVATE\x20KEY-----');else throw new Error(_0x5a4393(0x191));}return crypto[_0x5a4393(0x192)][_0x5a4393(0x1e2)](_0x5a4393(0x1e8),_0x2e4c38['buffer'],{'name':_0x5a4393(0x183),'namedCurve':_0x5a4393(0x1a4)},![],[_0x5a4393(0x166),_0x5a4393(0x1ba)]);}async function _decryptTokenB64ToTimestampMs(_0x3165ca){const _0x28bfc5=_0x474367,_0x41f895=_b64ToStr(String(_0x3165ca||'')),_0x3cbbdc=JSON[_0x28bfc5(0x1ad)](_0x41f895);if(!_0x3cbbdc||_0x3cbbdc['v']!==0x1)throw new Error('Token\x20không\x20hợp\x20lệ');const _0x58d9dd=await _importPrivateKeyEC(ACCESS[_0x28bfc5(0x1c8)]),_0x3ad163=await crypto['subtle'][_0x28bfc5(0x1e2)](_0x28bfc5(0x1a7),_b64uToU8(_0x3cbbdc['epk']),{'name':_0x28bfc5(0x183),'namedCurve':_0x28bfc5(0x1a4)},![],[]),_0x1049bf=await crypto[_0x28bfc5(0x192)][_0x28bfc5(0x1ba)]({'name':'ECDH','public':_0x3ad163},_0x58d9dd,0x100),_0x4930dc=await crypto['subtle'][_0x28bfc5(0x1e2)]('raw',_0x1049bf,_0x28bfc5(0x1e6),![],[_0x28bfc5(0x166)]),_0x566bfb=await crypto[_0x28bfc5(0x192)][_0x28bfc5(0x166)]({'name':_0x28bfc5(0x1e6),'hash':_0x28bfc5(0x18c),'salt':_b64uToU8(_0x3cbbdc[_0x28bfc5(0x1c3)]),'info':_enc['encode'](_0x28bfc5(0x19d))},_0x4930dc,{'name':'AES-GCM','length':0x100},![],[_0x28bfc5(0x19e)]),_0x41bb7b=await crypto['subtle'][_0x28bfc5(0x19e)]({'name':_0x28bfc5(0x170),'iv':_b64uToU8(_0x3cbbdc['iv'])},_0x566bfb,_b64uToU8(_0x3cbbdc['ct'])),_0xf33354=new TextDecoder()[_0x28bfc5(0x1eb)](new Uint8Array(_0x41bb7b));if(!/^\d{10,}$/[_0x28bfc5(0x16f)](_0xf33354))throw new Error('Timestamp\x20không\x20hợp\x20lệ');return Number(_0xf33354);}async function _ensureAccessGranted(){const _0x36efd9=_0x474367;let _0x460684=(window[_0x36efd9(0x1c9)]||'')[_0x36efd9(0x16e)]();while(!![]){if(!_0x460684){_0x460684=prompt('Dán\x20Access\x20Token\x20(Base64\x20của\x20JSON\x20ECIES):','')||'',_0x460684=_0x460684[_0x36efd9(0x16e)]();if(!_0x460684)throw new Error('Thiếu\x20Access\x20Token');}try{const _0x1c491e=await _decryptTokenB64ToTimestampMs(_0x460684),_0x44e2b1=Math[_0x36efd9(0x1c6)](Date[_0x36efd9(0x1e3)]()-_0x1c491e);if(_0x44e2b1>ACCESS[_0x36efd9(0x1d3)])throw new Error(_0x36efd9(0x175));return window[_0x36efd9(0x1c9)]=_0x460684,!![];}catch(_0x1caee4){console[_0x36efd9(0x18b)](_0x36efd9(0x184),_0x1caee4?.[_0x36efd9(0x1c7)]||_0x1caee4),window[_0x36efd9(0x1c9)]='';const _0x241778=prompt(_0x36efd9(0x167),'')||'';_0x460684=_0x241778['trim']();if(!_0x460684)throw new Error(_0x36efd9(0x1c4));}}}const CONFIG={'MODEL':_0x474367(0x1da),'MAX_RETRIES':0x5,'BASE_BACKOFF_MS':0x4b0,'BACKOFF_FACTOR':0x2,'POLL_INTERVAL_MS':0xfa,'LOAD_TIMEOUT_MS':0x3a98},STATE={'apiKey':'','selectors':{'question':'p.para-big.disable-select,\x20p.para-big,\x20.para-big.disable-select','getRoot':()=>{const _0x7abf70=_0x474367,_0x4f8ac2=document[_0x7abf70(0x1e0)]('iframe[data-name=\x22iframe-lesson-player\x22]');return _0x4f8ac2?.[_0x7abf70(0x195)]||_0x4f8ac2?.[_0x7abf70(0x19b)]?.[_0x7abf70(0x171)]||document;}}},_sleep=_0x2ec190=>new Promise(_0x351d48=>setTimeout(_0x351d48,_0x2ec190));async function _promptApiKey(){const _0x18f23d=_0x474367,_0x32932d=_0x18f23d(0x188),_0x1104cd=prompt(_0x32932d,window[_0x18f23d(0x1ae)]||'')||'',_0x4f2154=_0x1104cd['trim']();return _0x4f2154||null;}function _getRoot(){const _0x361e89=_0x474367;return STATE[_0x361e89(0x1e7)]['getRoot']();}function _getQuestion(_0x47051a=_getRoot()){const _0x2ab3b1=_0x474367,_0x4b350d=_0x47051a[_0x2ab3b1(0x1e0)](STATE['selectors'][_0x2ab3b1(0x1ca)]),_0x19536b=_0x4b350d?.[_0x2ab3b1(0x19a)]?.[_0x2ab3b1(0x16e)]();return _0x19536b&&_0x19536b['length']?_0x19536b:null;}function _0x1a5c(_0x248bbd,_0x2c0b76){const _0x530c91=_0x530c();return _0x1a5c=function(_0x1a5c8d,_0x4321e1){_0x1a5c8d=_0x1a5c8d-0x166;let _0x5d5785=_0x530c91[_0x1a5c8d];return _0x5d5785;},_0x1a5c(_0x248bbd,_0x2c0b76);}function _setJoditPlainText(_0x4938f3=_getRoot(),_0x5c410c=''){const _0x184123=_0x474367,_0x39b925=_0x4938f3[_0x184123(0x1e0)](_0x184123(0x1be)),_0x3c2795=_0x39b925?.['querySelector'](_0x184123(0x1a1));if(!_0x3c2795)return![];_0x3c2795[_0x184123(0x1b7)]=_0x5c410c,_0x3c2795[_0x184123(0x1b5)](new InputEvent(_0x184123(0x1e1),{'bubbles':!![]})),_0x3c2795[_0x184123(0x1b5)](new Event(_0x184123(0x17f),{'bubbles':!![]}));const _0xae4235=_0x39b925[_0x184123(0x1dc)]?.[_0x184123(0x1e0)](_0x184123(0x18d));return _0xae4235&&(_0xae4235[_0x184123(0x1b5)](new InputEvent(_0x184123(0x1e1),{'bubbles':!![]})),_0xae4235['dispatchEvent'](new Event('change',{'bubbles':!![]}))),!![];}async function _geminiGenerateContentOnce({system:_0x17b163,user:_0x137e7b,model:_0x538cf4,temperature:_0x560319}){const _0x14435e=_0x474367,_0x4455ea=_0x14435e(0x1ef)+encodeURIComponent(_0x538cf4)+_0x14435e(0x179);let _0x3769ce=0x0,_0x5045c7;while(_0x3769ce<=CONFIG[_0x14435e(0x176)]){try{const _0x2e9c19=await fetch(_0x4455ea+_0x14435e(0x1e9)+encodeURIComponent(STATE[_0x14435e(0x1ed)]),{'method':_0x14435e(0x182),'headers':{'Content-Type':_0x14435e(0x1b8)},'body':JSON[_0x14435e(0x19c)]({'systemInstruction':_0x17b163?{'role':'system','parts':[{'text':_0x17b163}]}:undefined,'contents':[{'role':'user','parts':[{'text':_0x137e7b}]}],'generationConfig':{'temperature':_0x560319}})});if(_0x2e9c19[_0x14435e(0x186)]===0x1ad||_0x2e9c19['status']>=0x1f4&&_0x2e9c19['status']<0x258){const _0x40c0e9=_0x2e9c19[_0x14435e(0x1d0)]['get'](_0x14435e(0x1d5));let _0x172add=_0x40c0e9?Number(_0x40c0e9)*0x3e8:null;if(!_0x172add||Number[_0x14435e(0x1e4)](_0x172add)){const _0x5b998c=Math[_0x14435e(0x198)](Math[_0x14435e(0x190)]()*0x190);_0x172add=CONFIG[_0x14435e(0x18f)]*Math[_0x14435e(0x1cc)](CONFIG[_0x14435e(0x169)],_0x3769ce)+_0x5b998c;}console[_0x14435e(0x18b)]('Gemini\x20'+_0x2e9c19[_0x14435e(0x186)]+_0x14435e(0x16c)+(_0x3769ce+0x1)+_0x14435e(0x1ea)+_0x172add+'ms'),await _sleep(_0x172add),_0x3769ce++;continue;}if(!_0x2e9c19['ok']){const _0x5a420c=await _0x2e9c19[_0x14435e(0x1d4)]()[_0x14435e(0x1dd)](()=>'');throw new Error(_0x14435e(0x1e5)+_0x2e9c19['status']+'\x20'+_0x2e9c19['statusText']+_0x14435e(0x185)+_0x5a420c);}const _0x247ddf=await _0x2e9c19[_0x14435e(0x181)](),_0x55ab42=_0x247ddf?.[_0x14435e(0x1b1)]?.[0x0]?.[_0x14435e(0x19f)]?.[_0x14435e(0x187)]?.[_0x14435e(0x174)](_0x5c6577=>_0x5c6577[_0x14435e(0x1d4)])[_0x14435e(0x1a8)]('')?.[_0x14435e(0x16e)]()||_0x247ddf?.[_0x14435e(0x1b1)]?.[0x0]?.[_0x14435e(0x19f)]?.['parts']?.[0x0]?.[_0x14435e(0x1d4)]?.['trim']()||'';if(!_0x55ab42)throw new Error(_0x14435e(0x1a6));return _0x55ab42;}catch(_0x2c1eab){_0x5045c7=_0x2c1eab;const _0x3ba7b6=Math[_0x14435e(0x198)](Math['random']()*0x190),_0x3f1fb8=CONFIG[_0x14435e(0x18f)]*Math['pow'](CONFIG[_0x14435e(0x169)],_0x3769ce)+_0x3ba7b6;console[_0x14435e(0x18b)](_0x14435e(0x1df)+(_0x3769ce+0x1)+'/'+(CONFIG['MAX_RETRIES']+0x1)+'):\x20'+(_0x2c1eab?.[_0x14435e(0x1c7)]||_0x2c1eab)+'.\x20Retry\x20in\x20'+_0x3f1fb8+'ms'),await _sleep(_0x3f1fb8),_0x3769ce++;}}throw _0x5045c7||new Error(_0x14435e(0x1db));}async function _geminiGenerateContent({system:_0x359619,user:_0x1c2423,model:model=CONFIG[_0x474367(0x1d1)],temperature:temperature=0x0}){const _0x42990e=_0x474367;!STATE[_0x42990e(0x1ed)]&&(STATE['apiKey']=(window[_0x42990e(0x1ae)]||'')[_0x42990e(0x16e)]());if(!STATE['apiKey']){const _0x16211b=await _promptApiKey();if(!_0x16211b)throw new Error(_0x42990e(0x1d2));STATE[_0x42990e(0x1ed)]=_0x16211b,window[_0x42990e(0x1ae)]=_0x16211b;}try{return await _geminiGenerateContentOnce({'system':_0x359619,'user':_0x1c2423,'model':model,'temperature':temperature});}catch(_0x97d194){console[_0x42990e(0x18b)](_0x42990e(0x1bf),_0x97d194?.['message']||_0x97d194);const _0x564f25=await _promptApiKey();if(!_0x564f25)throw _0x97d194;return STATE[_0x42990e(0x1ed)]=_0x564f25,window[_0x42990e(0x1ae)]=_0x564f25,await _geminiGenerateContentOnce({'system':_0x359619,'user':_0x1c2423,'model':model,'temperature':temperature});}}function _defaultPromptBuilder(_0x2898a9){const _0x2f24b8=_0x474367;return[_0x2f24b8(0x17e),'',_0x2f24b8(0x1a2)+_0x2898a9+'\x22','',_0x2f24b8(0x1bd),'-\x20Hiểu\x20đúng\x20mục\x20tiêu\x20và\x20phạm\x20vi\x20của\x20nhiệm\x20vụ.',_0x2f24b8(0x17c),_0x2f24b8(0x1c1),'-\x20Trình\x20bày\x20rõ\x20ràng,\x20có\x20tiêu\x20đề/phần/bước;\x20dùng\x20danh\x20sách/bảng\x20khi\x20hợp\x20lý.','',_0x2f24b8(0x1b9),_0x2f24b8(0x173),_0x2f24b8(0x1cb),'',_0x2f24b8(0x17d),_0x2f24b8(0x1ce),_0x2f24b8(0x1ab),'',_0x2f24b8(0x16a)]['join']('\x0a');}const DONATE_IMG_B64='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';function printConsoleImageFromBase64(_0x4cde85,{width:width=0x100,height:height=0x100,title:title='🙏\x20Nếu\x20hữu\x20ích,\x20mời\x20mình\x20ly\x20cà\x20phê\x20nhé!'}={}){const _0x4feb72=_0x474367;if(!_0x4cde85)return;try{const _0x1d2317=[_0x4feb72(0x1af),_0x4feb72(0x178)+Math['floor'](height/0x2)+'px\x20'+Math['floor'](width/0x2)+'px','background:url(data:image/png;base64,'+_0x4cde85+_0x4feb72(0x1d8),'background-size:'+width+_0x4feb72(0x1c2)+height+'px','line-height:0','margin:8px\x200',_0x4feb72(0x1f0)][_0x4feb72(0x1a8)](';');console[_0x4feb72(0x189)](_0x4feb72(0x1a3),_0x1d2317);}catch{console[_0x4feb72(0x189)](_0x4feb72(0x1a9),'data:image/png;base64,'+_0x4cde85);}if(title)console['log']('%c'+title,'color:#16a34a;font-weight:700;font-size:14px');}export async function runPromptFill(_0x4b4128={}){const _0x26df24=_0x474367,{apiKey:_0x20f509,question:_0x8742ac,customPromptBuilder:_0x5a01d9,temperature:temperature=0x0}=_0x4b4128;await _ensureAccessGranted();if(_0x20f509)STATE[_0x26df24(0x1ed)]=String(_0x20f509)['trim'](),window['__PROMPTBOT_API_KEY']=STATE[_0x26df24(0x1ed)];else{if(!STATE[_0x26df24(0x1ed)]){STATE['apiKey']=(window['__PROMPTBOT_API_KEY']||'')[_0x26df24(0x16e)]();if(!STATE[_0x26df24(0x1ed)]){const _0x224d43=await _promptApiKey();if(!_0x224d43)throw new Error(_0x26df24(0x1d2));STATE[_0x26df24(0x1ed)]=_0x224d43,window['__PROMPTBOT_API_KEY']=_0x224d43;}}}let _0x273287=String(_0x8742ac||_getQuestion()||'')[_0x26df24(0x16e)]();if(!_0x273287){_0x273287=prompt(_0x26df24(0x180),'')||'',_0x273287=_0x273287['trim']();if(!_0x273287)throw new Error(_0x26df24(0x168));}const _0x219c5c=_0x26df24(0x17b),_0x192338=_0x5a01d9?_0x5a01d9(_0x273287):[_0x26df24(0x1cd),_0x26df24(0x1ee)+_0x273287+'\x22',_0x26df24(0x199),'',_0x26df24(0x1b3)][_0x26df24(0x1a8)]('\x0a'),_0x520856=await _geminiGenerateContent({'system':_0x219c5c,'user':_0x192338,'model':CONFIG[_0x26df24(0x1d1)],'temperature':temperature}),_0x1f5596=_setJoditPlainText(_getRoot(),_0x520856);if(!_0x1f5596)try{await navigator[_0x26df24(0x177)][_0x26df24(0x1ac)](_0x520856),console[_0x26df24(0x189)](_0x26df24(0x18e),_0x26df24(0x1d9));}catch{console[_0x26df24(0x189)](_0x26df24(0x1a0),_0x26df24(0x1d9)),console[_0x26df24(0x189)](_0x520856);}else console[_0x26df24(0x189)](_0x26df24(0x1bb),_0x26df24(0x1d9));return printConsoleImageFromBase64(DONATE_IMG_B64),{'question':_0x273287,'prompt':_0x520856};}export async function runPromptBot(_0x3c3cda){const _0x481b5b=_0x474367;return console[_0x481b5b(0x18b)]('[promtbot]\x20`runPromptBot`\x20đã\x20đổi\x20tên\x20thành\x20`runPromptFill`.\x20Gọi\x20alias…'),runPromptFill(_0x3c3cda);}export function setApiKey(_0x29efb8){const _0x24f5f4=_0x474367;STATE[_0x24f5f4(0x1ed)]=String(_0x29efb8||'')[_0x24f5f4(0x16e)](),window[_0x24f5f4(0x1ae)]=STATE[_0x24f5f4(0x1ed)];}export function setTTL(_0x2f3717){const _0x38bbf7=_0x474367;ACCESS[_0x38bbf7(0x1d3)]=Math['max'](0x0,Number(_0x2f3717)||0x0);}export async function debugDecryptAccessTokenB64(_0x53e55a){return _decryptTokenB64ToTimestampMs(_0x53e55a);}export function setSelectors(_0x207e2f){const _0xe63f2=_0x474367;Object[_0xe63f2(0x196)](STATE[_0xe63f2(0x1e7)],_0x207e2f||{});}typeof window!==_0x474367(0x1c0)&&(window[_0x474367(0x1de)]={'runPromptFill':runPromptFill,'runPromptBot':runPromptBot,'setApiKey':setApiKey,'setTTL':setTTL,'setSelectors':setSelectors,'debugDecryptAccessTokenB64':debugDecryptAccessTokenB64});
