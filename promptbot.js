'use strict';const _0x15c8b0=_0x3d72;(function(_0x58ef7d,_0x10a4d0){const _0x58e916=_0x3d72,_0x8af30d=_0x58ef7d();while(!![]){try{const _0x28b6f8=-parseInt(_0x58e916(0x1c0))/0x1*(parseInt(_0x58e916(0x1c6))/0x2)+-parseInt(_0x58e916(0x168))/0x3+parseInt(_0x58e916(0x1b4))/0x4*(-parseInt(_0x58e916(0x16d))/0x5)+-parseInt(_0x58e916(0x14f))/0x6+-parseInt(_0x58e916(0x167))/0x7+parseInt(_0x58e916(0x169))/0x8*(-parseInt(_0x58e916(0x16a))/0x9)+parseInt(_0x58e916(0x1b1))/0xa*(parseInt(_0x58e916(0x15a))/0xb);if(_0x28b6f8===_0x10a4d0)break;else _0x8af30d['push'](_0x8af30d['shift']());}catch(_0x115788){_0x8af30d['push'](_0x8af30d['shift']());}}}(_0x5c72,0x8910d));const ACCESS={'TTL_MS':0x3a980,'PRIVATE_KEY_PEM':_0x15c8b0(0x1bb)},_enc=new TextEncoder(),_dec=new TextDecoder();function _0x5c72(){const _0x32a381=['639reaFgp','trim','dispatchEvent','128220cThlEV','Access\x20Token\x20không\x20hợp\x20lệ\x20hoặc\x20đã\x20hết\x20hạn.\x0aVui\x20lòng\x20dán\x20token\x20mới\x20(hoặc\x20Cancel\x20để\x20dừng):','stringify',':generateContent','P-256','Access\x20bị\x20từ\x20chối\x20(token\x20rỗng).','textContent','headers','%c[OK]\x20PROMPT\x20(copy\x20thủ\x20công\x20bên\x20dưới):','importKey','length','pkcs8','deriveKey','Gemini\x20','margin:8px\x200','Câu\x20hỏi/đề\x20bài\x20gốc:\x20\x22','now','color:#16a34a;font-weight:700','Bạn\x20là\x20senior\x20prompt\x20engineer.\x20Trả\x20về\x20CHỈ\x20NỘI\x20DUNG\x20PROMPT\x20cuối\x20cùng\x20(plain\x20text),\x20không\x20kèm\x20giải\x20thích.','-\x20Trình\x20bày\x20rõ\x20ràng,\x20có\x20tiêu\x20đề/phần/bước;\x20dùng\x20danh\x20sách/bảng\x20khi\x20hợp\x20lý.','decode','max','.\x20Retry\x20#','contentDocument','epk','BEGIN\x20EC\x20PRIVATE\x20KEY','candidates','.jodit-wysiwyg[contenteditable=\x22true\x22]','YÊU\x20CẦU\x20CHUNG:','ĐỊNH\x20DẠNG\x20ĐẦU\x20RA:','document','Yêu\x20cầu\x20PROMPT\x20phải\x20rõ\x20ràng,\x20có\x20mục\x20tiêu,\x20ràng\x20buộc,\x20tiêu\x20chí\x20chấp\x20nhận\x20và\x20định\x20dạng\x20đầu\x20ra.\x20Không\x20viết\x20lời\x20giải\x20thích.','Thiếu\x20Access\x20Token','NHIỆM\x20VỤ:\x20\x22','PRIVATE_KEY_PEM','querySelector','\x20in\x20','gemini-1.5-flash','line-height:0','charCodeAt','join','parse','getRoot','random','-\x20Hiểu\x20đúng\x20mục\x20tiêu\x20và\x20phạm\x20vi\x20của\x20nhiệm\x20vụ.','message','Không\x20tìm\x20thấy\x20câu\x20hỏi\x20trên\x20trang.\x20Dán\x20câu\x20hỏi/đề\x20bài\x20bạn\x20muốn\x20tạo\x20PROMPT:','Gemini\x20request\x20failed\x20after\x20retries','border-radius:8px','p.para-big.disable-select,\x20p.para-big,\x20.para-big.disable-select','floor','clipboard','Token\x20không\x20hợp\x20lệ','Private\x20key\x20PEM\x20không\x20hợp\x20lệ\x20(cần\x20EC\x20PRIVATE\x20KEY\x20hoặc\x20PRIVATE\x20KEY).','Thiếu\x20câu\x20hỏi/đề\x20bài.','subtle','apiKey','pow','deriveBits','abs','user','Nhập\x20GEMINI\x20API\x20key\x20(tạo\x20tại\x20https://aistudio.google.com/app/apikey):','%c[OK]\x20PROMPT\x20đã\x20điền\x20vào\x20Jodit.','AES-GCM','includes','background:url(data:image/png;base64,','-\x20Viết\x20kết\x20quả\x20cuối\x20cùng\x20trực\x20tiếp,\x20không\x20kèm\x20chú\x20thích\x20về\x20cách\x20bạn\x20suy\x20nghĩ.','text','119740eKvVzg','assign','BẮT\x20ĐẦU\x20THỰC\x20HIỆN.','52uurqcF','BASE_BACKOFF_MS','content','BACKOFF_FACTOR','map','-----END\x20PRIVATE\x20KEY-----','color:#16a34a;font-weight:700;font-size:14px','-----BEGIN\x20EC\x20PRIVATE\x20KEY-----\x0aMHcCAQEEIEgJFaFBqdftZlPV9i35xiaLDXNjQ9ty3RSPBtZzBCcfoAoGCCqGSM49\x0aAwEHoUQDQgAESrM8zwj/ZCRdoO7ilyhYIiv3npJB0ekBk3qhcphSojfc9sbUs5Px\x0aKBhMizvvmq81fqWJ7JeBGUn8o81y6DGuzQ==\x0a-----END\x20EC\x20PRIVATE\x20KEY-----','salt','replace','retry-after','.\x20Retry\x20in\x20','40999XzTebe','from','encode','Nhiệm\x20vụ:\x20Viết\x20một\x20PROMPT\x20chất\x20lượng\x20cao\x20để\x20yêu\x20cầu\x20một\x20AI\x20HOÀN\x20THÀNH\x20đúng\x20nhiệm\x20vụ\x20sau.','__PROMPTBOT_API_KEY','-----BEGIN\x20PRIVATE\x20KEY-----','2xlAgQi','log','MAX_RETRIES','warn','RÀNG\x20BUỘC\x20&\x20CHẤP\x20NHẬN:','__PROMPTBOT_TOKEN_B64','ECDH','Gemini\x20request\x20failed\x20(attempt\x20','Gemini\x20trả\x20về\x20rỗng','?key=','-----BEGIN\x20EC\x20PRIVATE\x20KEY-----','Xuất\x20duy\x20nhất\x20nội\x20dung\x20PROMPT.','-\x20Tôn\x20trọng\x20các\x20tiêu\x20chí\x20về\x20chính\x20xác,\x20đầy\x20đủ,\x20nhất\x20quán,\x20có\x20thể\x20kiểm\x20chứng.','contentWindow','px\x20','selectors','TTL_MS','HKDF','Không\x20có\x20API\x20key.','undefined','application/json','361644Gihvks','):\x20','Bạn\x20là\x20một\x20hệ\x20thống\x20AI\x20chuyên\x20gia.\x20Hãy\x20HOÀN\x20THÀNH\x20NHIỆM\x20VỤ\x20sau\x20một\x20cách\x20tối\x20ưu\x20bằng\x20tiếng\x20anh,\x20chính\x20xác\x20và\x20có\x20cấu\x20trúc\x20rõ\x20ràng:','ecies-p256-timestamp','set','Dán\x20Access\x20Token\x20(Liên\x20Hệ\x20PhuongTTD2):','MODEL','get','catch','Donate\x20image\x20(data\x20URL):','question','2651aNYmvL','isNaN','unshift','status','%c[OK]\x20PROMPT\x20đã\x20copy\x20vào\x20clipboard.','padding:','json',')\x20no-repeat','https://generativelanguage.googleapis.com/v1beta/models/','statusText','.jodit-container','change','decrypt','6304809ztDGQD','96342UADCsN','107816bSmUzI'];_0x5c72=function(){return _0x32a381;};return _0x5c72();}function _b64ToStr(_0x203622){const _0x315dc6=_0x15c8b0,_0x3c0b0b=atob(_0x203622),_0xf9840f=new Uint8Array(_0x3c0b0b[_0x315dc6(0x177)]);for(let _0x4d86d1=0x0;_0x4d86d1<_0x3c0b0b[_0x315dc6(0x177)];_0x4d86d1++)_0xf9840f[_0x4d86d1]=_0x3c0b0b['charCodeAt'](_0x4d86d1);return _dec[_0x315dc6(0x181)](_0xf9840f);}function _b64uToU8(_0x1ebe28){const _0x3b3476=_0x15c8b0;_0x1ebe28=_0x1ebe28[_0x3b3476(0x1bd)](/-/g,'+')['replace'](/_/g,'/');while(_0x1ebe28[_0x3b3476(0x177)]%0x4)_0x1ebe28+='=';const _0xdbe251=atob(_0x1ebe28);return Uint8Array['from']([..._0xdbe251]['map'](_0x2a88aa=>_0x2a88aa['charCodeAt'](0x0)));}function _strip(_0x2c55a4,_0x29581a,_0x28f3cf){const _0x40cf1a=_0x15c8b0;return _0x2c55a4[_0x40cf1a(0x1bd)](_0x29581a,'')['replace'](_0x28f3cf,'')['replace'](/\s+/g,'');}function _pemBlockToU8(_0x39fc46,_0x4434d7,_0x70839d){const _0x4e7a9b=_0x15c8b0,_0x4ac7e0=_strip(_0x39fc46[_0x4e7a9b(0x16b)](),_0x4434d7,_0x70839d),_0x1392e0=atob(_0x4ac7e0);return Uint8Array[_0x4e7a9b(0x1c1)]([..._0x1392e0][_0x4e7a9b(0x1b8)](_0x34a288=>_0x34a288[_0x4e7a9b(0x194)](0x0)));}function _encLen(_0x35bfbf){const _0x55902f=_0x15c8b0;if(_0x35bfbf<0x80)return Uint8Array[_0x55902f(0x1c1)]([_0x35bfbf]);const _0x23b71c=[];while(_0x35bfbf>0x0){_0x23b71c[_0x55902f(0x15c)](_0x35bfbf&0xff),_0x35bfbf>>=0x8;}return Uint8Array['from']([0x80|_0x23b71c[_0x55902f(0x177)],..._0x23b71c]);}function _asn1(_0x1f4006,_0x545dae){const _0x578b5b=_0x15c8b0,_0xa357b1=_encLen(_0x545dae['length']),_0x147e86=new Uint8Array(0x1+_0xa357b1['length']+_0x545dae[_0x578b5b(0x177)]);return _0x147e86[0x0]=_0x1f4006,_0x147e86[_0x578b5b(0x153)](_0xa357b1,0x1),_0x147e86[_0x578b5b(0x153)](_0x545dae,0x1+_0xa357b1['length']),_0x147e86;}const _seq=_0x5b9059=>_asn1(0x30,_0x5b9059),_oct=_0x5a89e0=>_asn1(0x4,_0x5a89e0);function _sec1ToPkcs8(_0x146ed0){const _0x3330b2=_0x15c8b0,_0x767c84=Uint8Array[_0x3330b2(0x1c1)]([0x2,0x1,0x0]),_0x54ca3c=(..._0x39108e)=>Uint8Array[_0x3330b2(0x1c1)]([0x6,_0x39108e['length'],..._0x39108e]),_0x21adf0=_0x54ca3c(0x2a,0x86,0x48,0xce,0x3d,0x2,0x1),_0x5b8f32=_0x54ca3c(0x2a,0x86,0x48,0xce,0x3d,0x3,0x1,0x7),_0x619b5b=_seq(new Uint8Array([..._0x21adf0,..._0x5b8f32]));return _seq(new Uint8Array([..._0x767c84,..._0x619b5b,..._oct(_0x146ed0)]));}async function _importPrivateKeyEC(_0x376160){const _0x2da094=_0x15c8b0;let _0x5544b5,_0x3be518=_0x2da094(0x178);if(_0x376160[_0x2da094(0x1ad)](_0x2da094(0x186))){const _0x130ab1=_pemBlockToU8(_0x376160,_0x2da094(0x1d0),'-----END\x20EC\x20PRIVATE\x20KEY-----');_0x5544b5=_sec1ToPkcs8(_0x130ab1);}else{if(_0x376160[_0x2da094(0x1ad)]('BEGIN\x20PRIVATE\x20KEY'))_0x5544b5=_pemBlockToU8(_0x376160,_0x2da094(0x1c5),_0x2da094(0x1b9));else throw new Error(_0x2da094(0x1a2));}return crypto[_0x2da094(0x1a4)]['importKey'](_0x2da094(0x178),_0x5544b5['buffer'],{'name':_0x2da094(0x1cc),'namedCurve':_0x2da094(0x171)},![],[_0x2da094(0x179),_0x2da094(0x1a7)]);}async function _decryptTokenB64ToTimestampMs(_0x3451f3){const _0x113d61=_0x15c8b0,_0x1989f9=_b64ToStr(String(_0x3451f3||'')),_0x258de4=JSON[_0x113d61(0x196)](_0x1989f9);if(!_0x258de4||_0x258de4['v']!==0x1)throw new Error(_0x113d61(0x1a1));const _0x50ffc1=await _importPrivateKeyEC(ACCESS[_0x113d61(0x18f)]),_0x359127=await crypto[_0x113d61(0x1a4)]['importKey']('raw',_b64uToU8(_0x258de4[_0x113d61(0x185)]),{'name':_0x113d61(0x1cc),'namedCurve':'P-256'},![],[]),_0x2f79ae=await crypto[_0x113d61(0x1a4)][_0x113d61(0x1a7)]({'name':_0x113d61(0x1cc),'public':_0x359127},_0x50ffc1,0x100),_0x771472=await crypto[_0x113d61(0x1a4)][_0x113d61(0x176)]('raw',_0x2f79ae,_0x113d61(0x14b),![],[_0x113d61(0x179)]),_0x27475f=await crypto['subtle'][_0x113d61(0x179)]({'name':'HKDF','hash':'SHA-256','salt':_b64uToU8(_0x258de4[_0x113d61(0x1bc)]),'info':_enc[_0x113d61(0x1c2)](_0x113d61(0x152))},_0x771472,{'name':'AES-GCM','length':0x100},![],[_0x113d61(0x166)]),_0x4caafb=await crypto[_0x113d61(0x1a4)]['decrypt']({'name':_0x113d61(0x1ac),'iv':_b64uToU8(_0x258de4['iv'])},_0x27475f,_b64uToU8(_0x258de4['ct'])),_0x2ffb84=new TextDecoder()[_0x113d61(0x181)](new Uint8Array(_0x4caafb));if(!/^\d{10,}$/['test'](_0x2ffb84))throw new Error('Timestamp\x20không\x20hợp\x20lệ');return Number(_0x2ffb84);}async function _ensureAccessGranted(){const _0x40bda4=_0x15c8b0;let _0x57b00c=(window[_0x40bda4(0x1cb)]||'')[_0x40bda4(0x16b)]();while(!![]){if(!_0x57b00c){_0x57b00c=prompt(_0x40bda4(0x154),'')||'',_0x57b00c=_0x57b00c['trim']();if(!_0x57b00c)throw new Error(_0x40bda4(0x18d));}try{const _0x33cefa=await _decryptTokenB64ToTimestampMs(_0x57b00c),_0xd4e76c=Math[_0x40bda4(0x1a8)](Date[_0x40bda4(0x17d)]()-_0x33cefa);if(_0xd4e76c>ACCESS[_0x40bda4(0x14a)])throw new Error('expired');return window[_0x40bda4(0x1cb)]=_0x57b00c,!![];}catch(_0x212118){console[_0x40bda4(0x1c9)]('[access]\x20token\x20invalid/expired\x20→\x20nhập\x20lại:',_0x212118?.['message']||_0x212118),window[_0x40bda4(0x1cb)]='';const _0x27df50=prompt(_0x40bda4(0x16e),'')||'';_0x57b00c=_0x27df50[_0x40bda4(0x16b)]();if(!_0x57b00c)throw new Error(_0x40bda4(0x172));}}}const CONFIG={'MODEL':_0x15c8b0(0x192),'MAX_RETRIES':0x5,'BASE_BACKOFF_MS':0x4b0,'BACKOFF_FACTOR':0x2,'POLL_INTERVAL_MS':0xfa,'LOAD_TIMEOUT_MS':0x3a98},STATE={'apiKey':'','selectors':{'question':_0x15c8b0(0x19e),'getRoot':()=>{const _0x115047=_0x15c8b0,_0x1675b1=document['querySelector']('iframe[data-name=\x22iframe-lesson-player\x22]');return _0x1675b1?.[_0x115047(0x184)]||_0x1675b1?.[_0x115047(0x1d3)]?.[_0x115047(0x18b)]||document;}}},_sleep=_0x56a414=>new Promise(_0x223dd1=>setTimeout(_0x223dd1,_0x56a414));async function _promptApiKey(){const _0x657f45=_0x15c8b0,_0x2eb447=_0x657f45(0x1aa),_0x113d16=prompt(_0x2eb447,window[_0x657f45(0x1c4)]||'')||'',_0x28cabd=_0x113d16[_0x657f45(0x16b)]();return _0x28cabd||null;}function _getRoot(){const _0x4c8cfa=_0x15c8b0;return STATE[_0x4c8cfa(0x149)][_0x4c8cfa(0x197)]();}function _getQuestion(_0x1f6f20=_getRoot()){const _0x29d8fc=_0x15c8b0,_0x1a95eb=_0x1f6f20[_0x29d8fc(0x190)](STATE['selectors'][_0x29d8fc(0x159)]),_0x31c999=_0x1a95eb?.['innerText']?.['trim']();return _0x31c999&&_0x31c999[_0x29d8fc(0x177)]?_0x31c999:null;}function _setJoditPlainText(_0x28c964=_getRoot(),_0xf7ff97=''){const _0x4b3e8f=_0x15c8b0,_0x3b00c8=_0x28c964[_0x4b3e8f(0x190)](_0x4b3e8f(0x164)),_0x2fbed4=_0x3b00c8?.['querySelector'](_0x4b3e8f(0x188));if(!_0x2fbed4)return![];_0x2fbed4[_0x4b3e8f(0x173)]=_0xf7ff97,_0x2fbed4[_0x4b3e8f(0x16c)](new InputEvent('input',{'bubbles':!![]})),_0x2fbed4['dispatchEvent'](new Event(_0x4b3e8f(0x165),{'bubbles':!![]}));const _0x3f758a=_0x3b00c8['parentElement']?.[_0x4b3e8f(0x190)]('textarea#jodit-editor');return _0x3f758a&&(_0x3f758a[_0x4b3e8f(0x16c)](new InputEvent('input',{'bubbles':!![]})),_0x3f758a[_0x4b3e8f(0x16c)](new Event(_0x4b3e8f(0x165),{'bubbles':!![]}))),!![];}async function _geminiGenerateContentOnce({system:_0x3c5a56,user:_0x3f9210,model:_0x55771e,temperature:_0x4b488}){const _0x594399=_0x15c8b0,_0x41807a=_0x594399(0x162)+encodeURIComponent(_0x55771e)+_0x594399(0x170);let _0x215a2f=0x0,_0x4114fa;while(_0x215a2f<=CONFIG[_0x594399(0x1c8)]){try{const _0x104df6=await fetch(_0x41807a+_0x594399(0x1cf)+encodeURIComponent(STATE[_0x594399(0x1a5)]),{'method':'POST','headers':{'Content-Type':_0x594399(0x14e)},'body':JSON[_0x594399(0x16f)]({'systemInstruction':_0x3c5a56?{'role':'system','parts':[{'text':_0x3c5a56}]}:undefined,'contents':[{'role':_0x594399(0x1a9),'parts':[{'text':_0x3f9210}]}],'generationConfig':{'temperature':_0x4b488}})});if(_0x104df6[_0x594399(0x15d)]===0x1ad||_0x104df6[_0x594399(0x15d)]>=0x1f4&&_0x104df6[_0x594399(0x15d)]<0x258){const _0x9c9761=_0x104df6[_0x594399(0x174)][_0x594399(0x156)](_0x594399(0x1be));let _0x42a76=_0x9c9761?Number(_0x9c9761)*0x3e8:null;if(!_0x42a76||Number[_0x594399(0x15b)](_0x42a76)){const _0x167e66=Math[_0x594399(0x19f)](Math[_0x594399(0x198)]()*0x190);_0x42a76=CONFIG[_0x594399(0x1b5)]*Math[_0x594399(0x1a6)](CONFIG[_0x594399(0x1b7)],_0x215a2f)+_0x167e66;}console[_0x594399(0x1c9)](_0x594399(0x17a)+_0x104df6[_0x594399(0x15d)]+_0x594399(0x183)+(_0x215a2f+0x1)+_0x594399(0x191)+_0x42a76+'ms'),await _sleep(_0x42a76),_0x215a2f++;continue;}if(!_0x104df6['ok']){const _0x394693=await _0x104df6['text']()[_0x594399(0x157)](()=>'');throw new Error('Gemini\x20'+_0x104df6['status']+'\x20'+_0x104df6[_0x594399(0x163)]+'\x20—\x20'+_0x394693);}const _0x92df63=await _0x104df6[_0x594399(0x160)](),_0x2b1ac6=_0x92df63?.[_0x594399(0x187)]?.[0x0]?.[_0x594399(0x1b6)]?.['parts']?.['map'](_0x304b0e=>_0x304b0e[_0x594399(0x1b0)])[_0x594399(0x195)]('')?.['trim']()||_0x92df63?.['candidates']?.[0x0]?.[_0x594399(0x1b6)]?.['parts']?.[0x0]?.[_0x594399(0x1b0)]?.[_0x594399(0x16b)]()||'';if(!_0x2b1ac6)throw new Error(_0x594399(0x1ce));return _0x2b1ac6;}catch(_0x78fa6b){_0x4114fa=_0x78fa6b;const _0x27bfe3=Math[_0x594399(0x19f)](Math[_0x594399(0x198)]()*0x190),_0x30fcc4=CONFIG[_0x594399(0x1b5)]*Math['pow'](CONFIG[_0x594399(0x1b7)],_0x215a2f)+_0x27bfe3;console[_0x594399(0x1c9)](_0x594399(0x1cd)+(_0x215a2f+0x1)+'/'+(CONFIG[_0x594399(0x1c8)]+0x1)+_0x594399(0x150)+(_0x78fa6b?.[_0x594399(0x19a)]||_0x78fa6b)+_0x594399(0x1bf)+_0x30fcc4+'ms'),await _sleep(_0x30fcc4),_0x215a2f++;}}throw _0x4114fa||new Error(_0x594399(0x19c));}async function _geminiGenerateContent({system:_0x35a2b8,user:_0x3af541,model:model=CONFIG[_0x15c8b0(0x155)],temperature:temperature=0x0}){const _0x6047d2=_0x15c8b0;!STATE['apiKey']&&(STATE[_0x6047d2(0x1a5)]=(window[_0x6047d2(0x1c4)]||'')['trim']());if(!STATE[_0x6047d2(0x1a5)]){const _0x473aba=await _promptApiKey();if(!_0x473aba)throw new Error(_0x6047d2(0x14c));STATE[_0x6047d2(0x1a5)]=_0x473aba,window['__PROMPTBOT_API_KEY']=_0x473aba;}try{return await _geminiGenerateContentOnce({'system':_0x35a2b8,'user':_0x3af541,'model':model,'temperature':temperature});}catch(_0x3fca8f){console['warn']('[Gemini]\x20thất\x20bại\x20sau\x20max\x20retries.\x20Thử\x20nhập\x20API\x20key\x20mới...',_0x3fca8f?.[_0x6047d2(0x19a)]||_0x3fca8f);const _0x306596=await _promptApiKey();if(!_0x306596)throw _0x3fca8f;return STATE[_0x6047d2(0x1a5)]=_0x306596,window[_0x6047d2(0x1c4)]=_0x306596,await _geminiGenerateContentOnce({'system':_0x35a2b8,'user':_0x3af541,'model':model,'temperature':temperature});}}function _defaultPromptBuilder(_0x4a4fbd){const _0x45fee7=_0x15c8b0;return[_0x45fee7(0x151),'',_0x45fee7(0x18e)+_0x4a4fbd+'\x22','',_0x45fee7(0x189),_0x45fee7(0x199),'-\x20Nếu\x20nhiệm\x20vụ\x20tạo\x20nội\x20dung/tài\x20liệu/mã,\x20hãy\x20đảm\x20bảo\x20đầy\x20đủ\x20phần\x20bắt\x20buộc,\x20có\x20kiểm\x20tra\x20lỗi/cạnh\x20biên\x20khi\x20phù\x20hợp.','-\x20Nếu\x20có\x20giả\x20định,\x20hãy\x20nêu\x20ngắn\x20gọn\x20và\x20hợp\x20lý.',_0x45fee7(0x180),'',_0x45fee7(0x1ca),_0x45fee7(0x1d2),'-\x20Nếu\x20đầu\x20ra\x20là\x20mã/JSON,\x20đảm\x20bảo\x20cú\x20pháp\x20hợp\x20lệ.','',_0x45fee7(0x18a),_0x45fee7(0x1af),'-\x20Nếu\x20có\x20nhiều\x20phần,\x20đặt\x20tiêu\x20đề\x20cấp\x202/3\x20tương\x20ứng.','',_0x45fee7(0x1b3)][_0x45fee7(0x195)]('\x0a');}const DONATE_IMG_B64='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';function printConsoleImageFromBase64(_0x42fb66,{width:width=0x100,height:height=0x100,title:title='🙏\x20Nếu\x20hữu\x20ích,\x20mời\x20mình\x20ly\x20cà\x20phê\x20nhé!'}={}){const _0x3bf988=_0x15c8b0;if(!_0x42fb66)return;try{const _0x41d069=['font-size:1px',_0x3bf988(0x15f)+Math[_0x3bf988(0x19f)](height/0x2)+_0x3bf988(0x1d4)+Math['floor'](width/0x2)+'px',_0x3bf988(0x1ae)+_0x42fb66+_0x3bf988(0x161),'background-size:'+width+_0x3bf988(0x1d4)+height+'px',_0x3bf988(0x193),_0x3bf988(0x17b),_0x3bf988(0x19d)][_0x3bf988(0x195)](';');console[_0x3bf988(0x1c7)]('%c\x20',_0x41d069);}catch{console['log'](_0x3bf988(0x158),'data:image/png;base64,'+_0x42fb66);}if(title)console['log']('%c'+title,_0x3bf988(0x1ba));}export async function runPromptFill(_0x49097={}){const _0x5cf73a=_0x15c8b0,{apiKey:_0x5956c1,question:_0x1cd35d,customPromptBuilder:_0xd108d5,temperature:temperature=0x0}=_0x49097;await _ensureAccessGranted();if(_0x5956c1)STATE[_0x5cf73a(0x1a5)]=String(_0x5956c1)[_0x5cf73a(0x16b)](),window[_0x5cf73a(0x1c4)]=STATE[_0x5cf73a(0x1a5)];else!STATE[_0x5cf73a(0x1a5)]&&(STATE[_0x5cf73a(0x1a5)]=(window[_0x5cf73a(0x1c4)]||'')[_0x5cf73a(0x16b)]());let _0x28f1e0=String(_0x1cd35d||_getQuestion()||'')[_0x5cf73a(0x16b)]();if(!_0x28f1e0){_0x28f1e0=prompt(_0x5cf73a(0x19b),'')||'',_0x28f1e0=_0x28f1e0[_0x5cf73a(0x16b)]();if(!_0x28f1e0)throw new Error(_0x5cf73a(0x1a3));}const _0x38a078=_0x5cf73a(0x17f),_0x24a345=[_0x5cf73a(0x1c3),_0x5cf73a(0x17c)+_0x28f1e0+'\x22',_0x5cf73a(0x18c),'',_0x5cf73a(0x1d1)][_0x5cf73a(0x195)]('\x0a'),_0x2d59bd=await _geminiGenerateContent({'system':_0x38a078,'user':_0xd108d5?_0xd108d5(_0x28f1e0):_0x24a345,'temperature':temperature}),_0x28b062=_setJoditPlainText(_getRoot(),_0x2d59bd);if(!_0x28b062)try{await navigator[_0x5cf73a(0x1a0)]['writeText'](_0x2d59bd),console['log'](_0x5cf73a(0x15e),_0x5cf73a(0x17e));}catch{console[_0x5cf73a(0x1c7)](_0x5cf73a(0x175),'color:#16a34a;font-weight:700'),console[_0x5cf73a(0x1c7)](_0x2d59bd);}else console['log'](_0x5cf73a(0x1ab),_0x5cf73a(0x17e));return printConsoleImageFromBase64(DONATE_IMG_B64),{'question':_0x28f1e0,'prompt':_0x2d59bd};}export function setApiKey(_0x4861d2){const _0x28b76c=_0x15c8b0;STATE[_0x28b76c(0x1a5)]=String(_0x4861d2||'')[_0x28b76c(0x16b)](),window['__PROMPTBOT_API_KEY']=STATE[_0x28b76c(0x1a5)];}export function setTTL(_0x547caa){const _0x184921=_0x15c8b0;ACCESS['TTL_MS']=Math[_0x184921(0x182)](0x0,Number(_0x547caa)||0x0);}function _0x3d72(_0x4d0fb0,_0x574450){const _0x5c727f=_0x5c72();return _0x3d72=function(_0x3d72ce,_0x46cab8){_0x3d72ce=_0x3d72ce-0x149;let _0x20c74a=_0x5c727f[_0x3d72ce];return _0x20c74a;},_0x3d72(_0x4d0fb0,_0x574450);}export async function debugDecryptAccessTokenB64(_0x2a5cb4){return _decryptTokenB64ToTimestampMs(_0x2a5cb4);}export function setSelectors(_0x5417cc){const _0x50e342=_0x15c8b0;Object[_0x50e342(0x1b2)](STATE['selectors'],_0x5417cc||{});}typeof window!==_0x15c8b0(0x14d)&&(window['PromptBot']={'runPromptBot':runPromptBot,'setApiKey':setApiKey,'setTTL':setTTL,'setSelectors':setSelectors,'debugDecryptAccessTokenB64':debugDecryptAccessTokenB64});
