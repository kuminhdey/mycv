'use strict';const _0x26666b=_0xe9df;(function(_0x64a39f,_0x1c7a0b){const _0x53adc8=_0xe9df,_0x20e99f=_0x64a39f();while(!![]){try{const _0x10f224=-parseInt(_0x53adc8(0x24a))/0x1*(parseInt(_0x53adc8(0x22a))/0x2)+-parseInt(_0x53adc8(0x208))/0x3*(-parseInt(_0x53adc8(0x1de))/0x4)+-parseInt(_0x53adc8(0x234))/0x5+-parseInt(_0x53adc8(0x21c))/0x6+parseInt(_0x53adc8(0x1fd))/0x7*(-parseInt(_0x53adc8(0x25a))/0x8)+-parseInt(_0x53adc8(0x1f6))/0x9*(parseInt(_0x53adc8(0x245))/0xa)+parseInt(_0x53adc8(0x1e8))/0xb;if(_0x10f224===_0x1c7a0b)break;else _0x20e99f['push'](_0x20e99f['shift']());}catch(_0x5c545a){_0x20e99f['push'](_0x20e99f['shift']());}}}(_0x3111,0xe7bbb));const ACCESS={'TTL_MS':0x3a980,'PRIVATE_KEY_PEM':_0x26666b(0x205)},_enc=new TextEncoder(),_dec=new TextDecoder();function _b64ToStr(_0x4705ce){const _0x3cb9eb=_0x26666b,_0x45ecab=atob(_0x4705ce),_0x1f4a9a=new Uint8Array(_0x45ecab[_0x3cb9eb(0x20c)]);for(let _0x416cd6=0x0;_0x416cd6<_0x45ecab[_0x3cb9eb(0x20c)];_0x416cd6++)_0x1f4a9a[_0x416cd6]=_0x45ecab[_0x3cb9eb(0x214)](_0x416cd6);return _dec[_0x3cb9eb(0x236)](_0x1f4a9a);}function _b64uToU8(_0x39e13e){const _0x4b4db4=_0x26666b;_0x39e13e=_0x39e13e[_0x4b4db4(0x1ef)](/-/g,'+')[_0x4b4db4(0x1ef)](/_/g,'/');while(_0x39e13e[_0x4b4db4(0x20c)]%0x4)_0x39e13e+='=';const _0x520f74=atob(_0x39e13e);return Uint8Array[_0x4b4db4(0x1f8)]([..._0x520f74]['map'](_0x4512dc=>_0x4512dc[_0x4b4db4(0x214)](0x0)));}function _strip(_0xb04c93,_0x50d4c3,_0x5ace88){const _0x5c0003=_0x26666b;return _0xb04c93['replace'](_0x50d4c3,'')['replace'](_0x5ace88,'')[_0x5c0003(0x1ef)](/\s+/g,'');}function _pemBlockToU8(_0x33cd37,_0x41b70a,_0x272f88){const _0x387965=_0x26666b,_0x14f505=_strip(_0x33cd37[_0x387965(0x20e)](),_0x41b70a,_0x272f88),_0x4197d3=atob(_0x14f505);return Uint8Array['from']([..._0x4197d3]['map'](_0xb4c373=>_0xb4c373['charCodeAt'](0x0)));}function _encLen(_0x783ff){const _0x3d0aee=_0x26666b;if(_0x783ff<0x80)return Uint8Array[_0x3d0aee(0x1f8)]([_0x783ff]);const _0x3b2140=[];while(_0x783ff>0x0){_0x3b2140['unshift'](_0x783ff&0xff),_0x783ff>>=0x8;}return Uint8Array[_0x3d0aee(0x1f8)]([0x80|_0x3b2140[_0x3d0aee(0x20c)],..._0x3b2140]);}function _asn1(_0x5d513e,_0x222003){const _0x594d4b=_0x26666b,_0x4d7d98=_encLen(_0x222003[_0x594d4b(0x20c)]),_0x2265ba=new Uint8Array(0x1+_0x4d7d98[_0x594d4b(0x20c)]+_0x222003[_0x594d4b(0x20c)]);return _0x2265ba[0x0]=_0x5d513e,_0x2265ba[_0x594d4b(0x1fb)](_0x4d7d98,0x1),_0x2265ba[_0x594d4b(0x1fb)](_0x222003,0x1+_0x4d7d98[_0x594d4b(0x20c)]),_0x2265ba;}const _seq=_0x44de8a=>_asn1(0x30,_0x44de8a),_oct=_0x1f21de=>_asn1(0x4,_0x1f21de);function _sec1ToPkcs8(_0x3c779f){const _0x54b899=_0x26666b,_0x32789f=Uint8Array[_0x54b899(0x1f8)]([0x2,0x1,0x0]),_0x366431=(..._0x3a2925)=>Uint8Array['from']([0x6,_0x3a2925['length'],..._0x3a2925]),_0x488a45=_0x366431(0x2a,0x86,0x48,0xce,0x3d,0x2,0x1),_0x2f6b10=_0x366431(0x2a,0x86,0x48,0xce,0x3d,0x3,0x1,0x7),_0x399163=_seq(new Uint8Array([..._0x488a45,..._0x2f6b10]));return _seq(new Uint8Array([..._0x32789f,..._0x399163,..._oct(_0x3c779f)]));}async function _importPrivateKeyEC(_0x4a2002){const _0x38e25b=_0x26666b;let _0x354545,_0x40660e=_0x38e25b(0x225);if(_0x4a2002[_0x38e25b(0x1d4)](_0x38e25b(0x233))){const _0x2da5d7=_pemBlockToU8(_0x4a2002,_0x38e25b(0x20f),_0x38e25b(0x1e7));_0x354545=_sec1ToPkcs8(_0x2da5d7);}else{if(_0x4a2002[_0x38e25b(0x1d4)](_0x38e25b(0x213)))_0x354545=_pemBlockToU8(_0x4a2002,_0x38e25b(0x237),'-----END\x20PRIVATE\x20KEY-----');else throw new Error('Private\x20key\x20PEM\x20không\x20hợp\x20lệ\x20(cần\x20EC\x20PRIVATE\x20KEY\x20hoặc\x20PRIVATE\x20KEY).');}return crypto[_0x38e25b(0x1dd)][_0x38e25b(0x259)](_0x38e25b(0x225),_0x354545[_0x38e25b(0x24b)],{'name':'ECDH','namedCurve':'P-256'},![],[_0x38e25b(0x22c),'deriveBits']);}async function _decryptTokenB64ToTimestampMs(_0x59974f){const _0x1969ce=_0x26666b,_0x535af7=_b64ToStr(String(_0x59974f||'')),_0x41d259=JSON[_0x1969ce(0x247)](_0x535af7);if(!_0x41d259||_0x41d259['v']!==0x1)throw new Error(_0x1969ce(0x1dc));const _0x3ddb15=await _importPrivateKeyEC(ACCESS['PRIVATE_KEY_PEM']),_0x1bb7e4=await crypto[_0x1969ce(0x1dd)][_0x1969ce(0x259)](_0x1969ce(0x1e9),_b64uToU8(_0x41d259[_0x1969ce(0x1f2)]),{'name':_0x1969ce(0x231),'namedCurve':_0x1969ce(0x241)},![],[]),_0x25af12=await crypto[_0x1969ce(0x1dd)]['deriveBits']({'name':_0x1969ce(0x231),'public':_0x1bb7e4},_0x3ddb15,0x100),_0x455f1c=await crypto[_0x1969ce(0x1dd)]['importKey'](_0x1969ce(0x1e9),_0x25af12,'HKDF',![],['deriveKey']),_0x1946ec=await crypto[_0x1969ce(0x1dd)][_0x1969ce(0x22c)]({'name':_0x1969ce(0x257),'hash':_0x1969ce(0x252),'salt':_b64uToU8(_0x41d259['salt']),'info':_enc['encode'](_0x1969ce(0x20d))},_0x455f1c,{'name':'AES-GCM','length':0x100},![],['decrypt']),_0x1bf3bd=await crypto[_0x1969ce(0x1dd)][_0x1969ce(0x1df)]({'name':_0x1969ce(0x1fa),'iv':_b64uToU8(_0x41d259['iv'])},_0x1946ec,_b64uToU8(_0x41d259['ct'])),_0x5d311b=new TextDecoder()[_0x1969ce(0x236)](new Uint8Array(_0x1bf3bd));if(!/^\d{10,}$/[_0x1969ce(0x224)](_0x5d311b))throw new Error(_0x1969ce(0x22f));return Number(_0x5d311b);}async function _ensureAccessGranted(){const _0x115d8a=_0x26666b;let _0x8e1287=(window[_0x115d8a(0x255)]||'')[_0x115d8a(0x20e)]();while(!![]){if(!_0x8e1287){_0x8e1287=prompt(_0x115d8a(0x24e),'')||'',_0x8e1287=_0x8e1287[_0x115d8a(0x20e)]();if(!_0x8e1287)throw new Error(_0x115d8a(0x221));}try{const _0x4241c7=await _decryptTokenB64ToTimestampMs(_0x8e1287),_0xf8527e=Math[_0x115d8a(0x21d)](Date[_0x115d8a(0x207)]()-_0x4241c7);if(_0xf8527e>ACCESS[_0x115d8a(0x244)])throw new Error(_0x115d8a(0x248));return window[_0x115d8a(0x255)]=_0x8e1287,!![];}catch(_0x5378f7){console['warn'](_0x115d8a(0x23d),_0x5378f7?.[_0x115d8a(0x24f)]||_0x5378f7),window[_0x115d8a(0x255)]='';const _0xb1103f=prompt('Access\x20Token\x20không\x20hợp\x20lệ\x20hoặc\x20đã\x20hết\x20hạn.\x0aVui\x20lòng\x20dán\x20token\x20mới\x20(hoặc\x20Cancel\x20để\x20dừng):','')||'';_0x8e1287=_0xb1103f['trim']();if(!_0x8e1287)throw new Error(_0x115d8a(0x209));}}}const CONFIG={'MODEL':_0x26666b(0x1f4),'MAX_RETRIES':0x5,'BASE_BACKOFF_MS':0x4b0,'BACKOFF_FACTOR':0x2,'POLL_INTERVAL_MS':0xfa,'LOAD_TIMEOUT_MS':0x3a98},STATE={'apiKey':'','selectors':{'question':'p.para-big.disable-select,\x20p.para-big,\x20.para-big.disable-select','getRoot':()=>{const _0x7692e=_0x26666b,_0x51b753=document[_0x7692e(0x1d7)]('iframe[data-name=\x22iframe-lesson-player\x22]');return _0x51b753?.[_0x7692e(0x219)]||_0x51b753?.['contentWindow']?.[_0x7692e(0x1d6)]||document;}}},_sleep=_0x1d9b21=>new Promise(_0x20512f=>setTimeout(_0x20512f,_0x1d9b21));async function _promptApiKey(){const _0x40b38d=_0x26666b,_0x3edc85=_0x40b38d(0x220),_0x5ea270=prompt(_0x3edc85,window[_0x40b38d(0x217)]||'')||'',_0x283508=_0x5ea270[_0x40b38d(0x20e)]();return _0x283508||null;}function _getRoot(){const _0x58354c=_0x26666b;return STATE[_0x58354c(0x228)]['getRoot']();}function _getQuestion(_0x44a243=_getRoot()){const _0x53f5ed=_0x26666b,_0x223257=_0x44a243[_0x53f5ed(0x1d7)](STATE[_0x53f5ed(0x228)][_0x53f5ed(0x1db)]),_0x1bb647=_0x223257?.[_0x53f5ed(0x251)]?.[_0x53f5ed(0x20e)]();return _0x1bb647&&_0x1bb647[_0x53f5ed(0x20c)]?_0x1bb647:null;}function _setJoditPlainText(_0x418b86=_getRoot(),_0x412817=''){const _0x77bf09=_0x26666b,_0x484b35=_0x418b86[_0x77bf09(0x1d7)](_0x77bf09(0x23f)),_0x39a86e=_0x484b35?.[_0x77bf09(0x1d7)](_0x77bf09(0x23c));if(!_0x39a86e)return![];_0x39a86e[_0x77bf09(0x1d3)]=_0x412817,_0x39a86e[_0x77bf09(0x200)](new InputEvent(_0x77bf09(0x232),{'bubbles':!![]})),_0x39a86e[_0x77bf09(0x200)](new Event(_0x77bf09(0x1ed),{'bubbles':!![]}));const _0x28e0b5=_0x484b35[_0x77bf09(0x223)]?.[_0x77bf09(0x1d7)](_0x77bf09(0x254));return _0x28e0b5&&(_0x28e0b5['dispatchEvent'](new InputEvent(_0x77bf09(0x232),{'bubbles':!![]})),_0x28e0b5[_0x77bf09(0x200)](new Event(_0x77bf09(0x1ed),{'bubbles':!![]}))),!![];}async function _geminiGenerateContentOnce({system:_0x14d9c8,user:_0x176cb4,model:_0x4f24b2,temperature:_0x511bbd}){const _0x5d8329=_0x26666b,_0x4598ea=_0x5d8329(0x1e6)+encodeURIComponent(_0x4f24b2)+_0x5d8329(0x21b);let _0x2a0d76=0x0,_0x5f0618;while(_0x2a0d76<=CONFIG[_0x5d8329(0x210)]){try{const _0x27474a=await fetch(_0x4598ea+_0x5d8329(0x229)+encodeURIComponent(STATE['apiKey']),{'method':_0x5d8329(0x238),'headers':{'Content-Type':'application/json'},'body':JSON[_0x5d8329(0x1f9)]({'systemInstruction':_0x14d9c8?{'role':_0x5d8329(0x227),'parts':[{'text':_0x14d9c8}]}:undefined,'contents':[{'role':_0x5d8329(0x206),'parts':[{'text':_0x176cb4}]}],'generationConfig':{'temperature':_0x511bbd}})});if(_0x27474a[_0x5d8329(0x1f7)]===0x1ad||_0x27474a[_0x5d8329(0x1f7)]>=0x1f4&&_0x27474a[_0x5d8329(0x1f7)]<0x258){const _0x380804=_0x27474a[_0x5d8329(0x242)][_0x5d8329(0x235)](_0x5d8329(0x246));let _0x14f6e2=_0x380804?Number(_0x380804)*0x3e8:null;if(!_0x14f6e2||Number['isNaN'](_0x14f6e2)){const _0x1a058a=Math[_0x5d8329(0x253)](Math['random']()*0x190);_0x14f6e2=CONFIG[_0x5d8329(0x1ec)]*Math[_0x5d8329(0x256)](CONFIG[_0x5d8329(0x1fe)],_0x2a0d76)+_0x1a058a;}console[_0x5d8329(0x222)](_0x5d8329(0x218)+_0x27474a[_0x5d8329(0x1f7)]+_0x5d8329(0x1d0)+(_0x2a0d76+0x1)+_0x5d8329(0x1f0)+_0x14f6e2+'ms'),await _sleep(_0x14f6e2),_0x2a0d76++;continue;}if(!_0x27474a['ok']){const _0x3d5030=await _0x27474a[_0x5d8329(0x226)]()[_0x5d8329(0x211)](()=>'');throw new Error('Gemini\x20'+_0x27474a['status']+'\x20'+_0x27474a[_0x5d8329(0x240)]+_0x5d8329(0x1d2)+_0x3d5030);}const _0x91f3f7=await _0x27474a['json'](),_0x4f8352=_0x91f3f7?.['candidates']?.[0x0]?.[_0x5d8329(0x20b)]?.[_0x5d8329(0x249)]?.['map'](_0x2c8260=>_0x2c8260[_0x5d8329(0x226)])['join']('')?.[_0x5d8329(0x20e)]()||_0x91f3f7?.[_0x5d8329(0x23b)]?.[0x0]?.['content']?.[_0x5d8329(0x249)]?.[0x0]?.['text']?.['trim']()||'';if(!_0x4f8352)throw new Error(_0x5d8329(0x239));return _0x4f8352;}catch(_0x63d50d){_0x5f0618=_0x63d50d;const _0x1268fd=Math[_0x5d8329(0x253)](Math[_0x5d8329(0x243)]()*0x190),_0xecc5bf=CONFIG[_0x5d8329(0x1ec)]*Math[_0x5d8329(0x256)](CONFIG[_0x5d8329(0x1fe)],_0x2a0d76)+_0x1268fd;console[_0x5d8329(0x222)](_0x5d8329(0x250)+(_0x2a0d76+0x1)+'/'+(CONFIG[_0x5d8329(0x210)]+0x1)+'):\x20'+(_0x63d50d?.[_0x5d8329(0x24f)]||_0x63d50d)+_0x5d8329(0x202)+_0xecc5bf+'ms'),await _sleep(_0xecc5bf),_0x2a0d76++;}}throw _0x5f0618||new Error(_0x5d8329(0x1d9));}function _0x3111(){const _0x4a08f8=['392KUmksW','.\x20Retry\x20#','Bạn\x20là\x20senior\x20prompt\x20engineer.\x20Trả\x20về\x20CHỈ\x20NỘI\x20DUNG\x20PROMPT\x20cuối\x20cùng\x20(plain\x20text),\x20không\x20kèm\x20giải\x20thích.','\x20—\x20','textContent','includes','%c[OK]\x20PROMPT\x20đã\x20điền\x20vào\x20Jodit.','document','querySelector','-\x20Tôn\x20trọng\x20các\x20tiêu\x20chí\x20về\x20chính\x20xác,\x20đầy\x20đủ,\x20nhất\x20quán,\x20có\x20thể\x20kiểm\x20chứng.','Gemini\x20request\x20failed\x20after\x20retries','ĐỊNH\x20DẠNG\x20ĐẦU\x20RA:','question','Token\x20không\x20hợp\x20lệ','subtle','4RtojXH','decrypt','YÊU\x20CẦU\x20CHUNG:','margin:8px\x200','-\x20Nếu\x20có\x20nhiều\x20phần,\x20đặt\x20tiêu\x20đề\x20cấp\x202/3\x20tương\x20ứng.','color:#16a34a;font-weight:700','background-size:','🙏\x20Nếu\x20hữu\x20ích,\x20mời\x20mình\x20ly\x20cà\x20phê\x20nhé!','https://generativelanguage.googleapis.com/v1beta/models/','-----END\x20EC\x20PRIVATE\x20KEY-----','54139536LMWgHp','raw','px\x20','max','BASE_BACKOFF_MS','change','%c\x20','replace','\x20in\x20','-\x20Nếu\x20có\x20giả\x20định,\x20hãy\x20nêu\x20ngắn\x20gọn\x20và\x20hợp\x20lý.','epk','undefined','gemini-1.5-flash','apiKey','7509339XeaijV','status','from','stringify','AES-GCM','set','Bạn\x20là\x20một\x20hệ\x20thống\x20AI\x20chuyên\x20gia.\x20Hãy\x20HOÀN\x20THÀNH\x20NHIỆM\x20VỤ\x20sau\x20một\x20cách\x20tối\x20ưu\x20bằng\x20tiếng\x20anh,\x20chính\x20xác\x20và\x20có\x20cấu\x20trúc\x20rõ\x20ràng:','36365lStcJH','BACKOFF_FACTOR','NHIỆM\x20VỤ:\x20\x22','dispatchEvent','join','.\x20Retry\x20in\x20','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','-\x20Viết\x20kết\x20quả\x20cuối\x20cùng\x20trực\x20tiếp,\x20không\x20kèm\x20chú\x20thích\x20về\x20cách\x20bạn\x20suy\x20nghĩ.','-----BEGIN\x20EC\x20PRIVATE\x20KEY-----\x0aMHcCAQEEIEgJFaFBqdftZlPV9i35xiaLDXNjQ9ty3RSPBtZzBCcfoAoGCCqGSM49\x0aAwEHoUQDQgAESrM8zwj/ZCRdoO7ilyhYIiv3npJB0ekBk3qhcphSojfc9sbUs5Px\x0aKBhMizvvmq81fqWJ7JeBGUn8o81y6DGuzQ==\x0a-----END\x20EC\x20PRIVATE\x20KEY-----','user','now','222093TptxGf','Access\x20bị\x20từ\x20chối\x20(token\x20rỗng).','-\x20Trình\x20bày\x20rõ\x20ràng,\x20có\x20tiêu\x20đề/phần/bước;\x20dùng\x20danh\x20sách/bảng\x20khi\x20hợp\x20lý.','content','length','ecies-p256-timestamp','trim','-----BEGIN\x20EC\x20PRIVATE\x20KEY-----','MAX_RETRIES','catch','padding:','BEGIN\x20PRIVATE\x20KEY','charCodeAt','data:image/png;base64,','line-height:0','__PROMPTBOT_API_KEY','Gemini\x20','contentDocument','Yêu\x20cầu\x20PROMPT\x20phải\x20rõ\x20ràng,\x20có\x20mục\x20tiêu,\x20ràng\x20buộc,\x20tiêu\x20chí\x20chấp\x20nhận\x20và\x20định\x20dạng\x20đầu\x20ra.\x20Không\x20viết\x20lời\x20giải\x20thích.',':generateContent','10339032oXwUwl','abs','background:url(data:image/png;base64,','writeText','Nhập\x20GEMINI\x20API\x20key\x20(tạo\x20tại\x20https://aistudio.google.com/app/apikey):','Thiếu\x20Access\x20Token','warn','parentElement','test','pkcs8','text','system','selectors','?key=','802KXzDWJ','PromptBot','deriveKey',')\x20no-repeat','BẮT\x20ĐẦU\x20THỰC\x20HIỆN.','Timestamp\x20không\x20hợp\x20lệ','log','ECDH','input','BEGIN\x20EC\x20PRIVATE\x20KEY','6046335veCDQy','get','decode','-----BEGIN\x20PRIVATE\x20KEY-----','POST','Gemini\x20trả\x20về\x20rỗng','-\x20Nếu\x20nhiệm\x20vụ\x20tạo\x20nội\x20dung/tài\x20liệu/mã,\x20hãy\x20đảm\x20bảo\x20đầy\x20đủ\x20phần\x20bắt\x20buộc,\x20có\x20kiểm\x20tra\x20lỗi/cạnh\x20biên\x20khi\x20phù\x20hợp.','candidates','.jodit-wysiwyg[contenteditable=\x22true\x22]','[access]\x20token\x20invalid/expired\x20→\x20nhập\x20lại:','font-size:1px','.jodit-container','statusText','P-256','headers','random','TTL_MS','10iHVBlO','retry-after','parse','expired','parts','63FrGNyp','buffer','MODEL','Nhiệm\x20vụ:\x20Viết\x20một\x20PROMPT\x20chất\x20lượng\x20cao\x20để\x20yêu\x20cầu\x20một\x20AI\x20HOÀN\x20THÀNH\x20đúng\x20nhiệm\x20vụ\x20sau.','Dán\x20Access\x20Token\x20(Liên\x20Hệ\x20PhuongTTD2):','message','Gemini\x20request\x20failed\x20(attempt\x20','innerText','SHA-256','floor','textarea#jodit-editor','__PROMPTBOT_TOKEN_B64','pow','HKDF','border-radius:8px','importKey'];_0x3111=function(){return _0x4a08f8;};return _0x3111();}async function _geminiGenerateContent({system:_0x129f59,user:_0x161b91,model:model=CONFIG[_0x26666b(0x24c)],temperature:temperature=0x0}){const _0x1353d5=_0x26666b;!STATE[_0x1353d5(0x1f5)]&&(STATE['apiKey']=(window[_0x1353d5(0x217)]||'')[_0x1353d5(0x20e)]());if(!STATE[_0x1353d5(0x1f5)]){const _0x573836=await _promptApiKey();if(!_0x573836)throw new Error('Không\x20có\x20API\x20key.');STATE['apiKey']=_0x573836,window[_0x1353d5(0x217)]=_0x573836;}try{return await _geminiGenerateContentOnce({'system':_0x129f59,'user':_0x161b91,'model':model,'temperature':temperature});}catch(_0x5258c0){console[_0x1353d5(0x222)]('[Gemini]\x20thất\x20bại\x20sau\x20max\x20retries.\x20Thử\x20nhập\x20API\x20key\x20mới...',_0x5258c0?.[_0x1353d5(0x24f)]||_0x5258c0);const _0x26ef88=await _promptApiKey();if(!_0x26ef88)throw _0x5258c0;return STATE[_0x1353d5(0x1f5)]=_0x26ef88,window[_0x1353d5(0x217)]=_0x26ef88,await _geminiGenerateContentOnce({'system':_0x129f59,'user':_0x161b91,'model':model,'temperature':temperature});}}function _defaultPromptBuilder(_0x34879d){const _0x5d2552=_0x26666b;return[_0x5d2552(0x1fc),'',_0x5d2552(0x1ff)+_0x34879d+'\x22','',_0x5d2552(0x1e0),'-\x20Hiểu\x20đúng\x20mục\x20tiêu\x20và\x20phạm\x20vi\x20của\x20nhiệm\x20vụ.',_0x5d2552(0x23a),_0x5d2552(0x1f1),_0x5d2552(0x20a),'','RÀNG\x20BUỘC\x20&\x20CHẤP\x20NHẬN:',_0x5d2552(0x1d8),'-\x20Nếu\x20đầu\x20ra\x20là\x20mã/JSON,\x20đảm\x20bảo\x20cú\x20pháp\x20hợp\x20lệ.','',_0x5d2552(0x1da),_0x5d2552(0x204),_0x5d2552(0x1e2),'',_0x5d2552(0x22e)][_0x5d2552(0x201)]('\x0a');}const DONATE_IMG_B64=_0x26666b(0x203);function printConsoleImageFromBase64(_0xd536b6,{width:width=0x100,height:height=0x100,title:title=_0x26666b(0x1e5)}={}){const _0x46e3a7=_0x26666b;if(!_0xd536b6)return;try{const _0x2904ed=[_0x46e3a7(0x23e),_0x46e3a7(0x212)+Math['floor'](height/0x2)+'px\x20'+Math[_0x46e3a7(0x253)](width/0x2)+'px',_0x46e3a7(0x21e)+_0xd536b6+_0x46e3a7(0x22d),_0x46e3a7(0x1e4)+width+_0x46e3a7(0x1ea)+height+'px',_0x46e3a7(0x216),_0x46e3a7(0x1e1),_0x46e3a7(0x258)]['join'](';');console[_0x46e3a7(0x230)](_0x46e3a7(0x1ee),_0x2904ed);}catch{console['log']('Donate\x20image\x20(data\x20URL):',_0x46e3a7(0x215)+_0xd536b6);}if(title)console[_0x46e3a7(0x230)]('%c'+title,'color:#16a34a;font-weight:700;font-size:14px');}export async function runPromptBot(_0xba7b6e={}){const _0x533c6e=_0x26666b,{apiKey:_0x29b36a,question:_0x3b1313,customPromptBuilder:_0x2054a7,temperature:temperature=0x0}=_0xba7b6e;await _ensureAccessGranted();if(_0x29b36a)STATE[_0x533c6e(0x1f5)]=String(_0x29b36a)[_0x533c6e(0x20e)](),window[_0x533c6e(0x217)]=STATE[_0x533c6e(0x1f5)];else!STATE[_0x533c6e(0x1f5)]&&(STATE[_0x533c6e(0x1f5)]=(window[_0x533c6e(0x217)]||'')[_0x533c6e(0x20e)]());let _0x53ed4b=String(_0x3b1313||_getQuestion()||'')[_0x533c6e(0x20e)]();if(!_0x53ed4b){_0x53ed4b=prompt('Không\x20tìm\x20thấy\x20câu\x20hỏi\x20trên\x20trang.\x20Dán\x20câu\x20hỏi/đề\x20bài\x20bạn\x20muốn\x20tạo\x20PROMPT:','')||'',_0x53ed4b=_0x53ed4b['trim']();if(!_0x53ed4b)throw new Error('Thiếu\x20câu\x20hỏi/đề\x20bài.');}const _0x281445=_0x533c6e(0x1d1),_0x71625e=[_0x533c6e(0x24d),'Câu\x20hỏi/đề\x20bài\x20gốc:\x20\x22'+_0x53ed4b+'\x22',_0x533c6e(0x21a),'','Xuất\x20duy\x20nhất\x20nội\x20dung\x20PROMPT.'][_0x533c6e(0x201)]('\x0a'),_0x4c7e85=await _geminiGenerateContent({'system':_0x281445,'user':_0x2054a7?_0x2054a7(_0x53ed4b):_0x71625e,'temperature':temperature}),_0x1acd1b=_setJoditPlainText(_getRoot(),_0x4c7e85);if(!_0x1acd1b)try{await navigator['clipboard'][_0x533c6e(0x21f)](_0x4c7e85),console[_0x533c6e(0x230)]('%c[OK]\x20PROMPT\x20đã\x20copy\x20vào\x20clipboard.',_0x533c6e(0x1e3));}catch{console[_0x533c6e(0x230)]('%c[OK]\x20PROMPT\x20(copy\x20thủ\x20công\x20bên\x20dưới):',_0x533c6e(0x1e3)),console[_0x533c6e(0x230)](_0x4c7e85);}else console[_0x533c6e(0x230)](_0x533c6e(0x1d5),_0x533c6e(0x1e3));return printConsoleImageFromBase64(DONATE_IMG_B64),{'question':_0x53ed4b,'prompt':_0x4c7e85};}function _0xe9df(_0x355d0a,_0xe298b3){const _0x3111d3=_0x3111();return _0xe9df=function(_0xe9df4,_0x5eb756){_0xe9df4=_0xe9df4-0x1d0;let _0xfdc5d2=_0x3111d3[_0xe9df4];return _0xfdc5d2;},_0xe9df(_0x355d0a,_0xe298b3);}export function setApiKey(_0x4404cf){const _0x19c112=_0x26666b;STATE[_0x19c112(0x1f5)]=String(_0x4404cf||'')[_0x19c112(0x20e)](),window['__PROMPTBOT_API_KEY']=STATE[_0x19c112(0x1f5)];}export function setTTL(_0xe1e753){const _0x3b1a0a=_0x26666b;ACCESS[_0x3b1a0a(0x244)]=Math[_0x3b1a0a(0x1eb)](0x0,Number(_0xe1e753)||0x0);}export async function debugDecryptAccessTokenB64(_0x3c32ae){return _decryptTokenB64ToTimestampMs(_0x3c32ae);}export function setSelectors(_0x5f4bb3){const _0x209ea8=_0x26666b;Object['assign'](STATE[_0x209ea8(0x228)],_0x5f4bb3||{});}typeof window!==_0x26666b(0x1f3)&&(window[_0x26666b(0x22b)]={'runPromptBot':runPromptBot,'setApiKey':setApiKey,'setTTL':setTTL,'setSelectors':setSelectors,'debugDecryptAccessTokenB64':debugDecryptAccessTokenB64});
